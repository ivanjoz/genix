import"./DsnmJJEf.js";import{p as $,e as ee,g as te,l as A,h as D,i as v,f as m,a as ie,s as d,b as f,d as ae,c as n,r as o,t as L,u as E,at as se}from"./CaHRSXkO.js";import{s as G}from"./CrFq4NBa.js";import{d as re,s as P}from"./EZdBy8tr.js";import{i as u}from"./BLuAT40e.js";import{s as w,b as ne,d as B}from"./ZZ_SO04P.js";import{b as oe}from"./D1kHjzM_.js";import{p as de}from"./DdsaxoiY.js";import{C as i,E as M}from"./-eHy24N1.js";import{O as le}from"./DaB40Y1m.js";var ve=m('<button class="bx-red mr-8 lh-10" aria-label="Eliminar"><i class="icon-trash"></i></button>'),ce=m('<button class="bx-blue mr-8 lh-10" aria-label="Guardar"><i></i> <span> </span></button>'),ye=m('<div><div class="flex items-center justify-between"><div> </div> <div class="shrink-0 flex items-center"><!> <!> <button class="bx-yellow" title="close"><i class="icon-cancel"></i></button></div></div> <!> <div><!></div></div>'),fe=m('<div class="w-page"><!></div>'),ue=m("<!> <!>",1);function Ce(V,e){$(e,!0);let l;const W=350;let _=ee(te(i.showSideLayer)),x=de(e,"selected",15);const S=E(()=>M.sideLayerSize?M.sideLayerSize+"px":""),j=E(()=>i.showSideLayer>0&&i.deviceType!==3?`calc(var(--page-width) - ${v(S)||"0"} - 8px)`:void 0),R=()=>{i.openSideLayer(0)};A(()=>{if(e.type!=="side"||i.deviceType!==3){D(_,i.showSideLayer,!0);return}if(v(_)!==i.showSideLayer){const s=i.showSideLayer===e.id,a=v(_)===e.id&&i.showSideLayer!==e.id;(s||a)&&document.startViewTransition&&l&&(l.style.setProperty("view-transition-name","mobile-side-layer"),document.startViewTransition(()=>{se()}),setTimeout(()=>{l&&l.style.setProperty("view-transition-name","")},W)),D(_,i.showSideLayer,!0)}}),A(()=>{(i.showSideLayer||e.type)&&console.log("updated 122:",i.showSideLayer,e.type,"| open:",i.showSideLayer===e.id)});var T=ue(),C=ie(T);{var U=s=>{var a=ye();let c;var y=n(a),h=n(y),H=n(h,!0);o(h);var k=d(h,2),z=n(k);{var J=t=>{var r=ve();r.__click=function(...b){e.onDelete?.apply(this,b)},f(t,r)};u(z,t=>{e.onDelete&&t(J)})}var O=d(z,2);{var K=t=>{var r=ce();r.__click=function(...p){e.onSave?.apply(this,p)};var b=n(r),N=d(b,2),Z=n(N,!0);o(N),o(r),L(()=>{w(b,1,e.saveButtonIcon||"icon-floppy","svelte-n6zgrd"),G(Z,e.saveButtonName||"Guardar")}),f(t,r)};u(O,t=>{e.onSave&&t(K)})}var Q=d(O,2);Q.__click=t=>{t.stopPropagation(),R(),e.onClose&&(i.deviceType===3?setTimeout(()=>{e.onClose()},300):e.onClose())},o(k),o(y);var I=d(y,2);{var X=t=>{le(t,{get options(){return e.options},get selected(){return x()},useMobileGrid:!0,onSelect:r=>{x(r[0])},css:"mt-2"})};u(I,t=>{(e.options||[]).length>0&&t(X)})}var g=d(I,2),Y=n(g);P(Y,()=>e.children),o(g),o(a),oe(a,t=>l=t,()=>l),L(()=>{c=w(a,1,`flex flex-col w-800 ${(e.css||"")??""}`,"svelte-n6zgrd",c,{_8:e.contentOverflow,_1:e.type==="side",_2:e.type==="bottom"}),ne(a,"data-layer-id",e.id),B(a,v(S)?`width: ${v(S)};`:""),w(h,1,`overflow-hidden text-nowrap mr-8 ${e.titleCss??""}`,"svelte-n6zgrd"),G(H,e.title),w(g,1,`_4 grow-1 ${e.contentCss??""}`,"svelte-n6zgrd")}),f(s,a)};u(C,s=>{i.showSideLayer===e.id&&(e.type==="side"||e.type==="bottom")&&s(U)})}var q=d(C,2);{var F=s=>{var a=fe();let c;var y=n(a);P(y,()=>e.children),o(a),L(()=>c=B(a,"",c,{width:v(j)})),f(s,a)};u(q,s=>{e.type=="content"&&s(F)})}f(V,T),ae()}re(["click"]);export{Ce as L};
