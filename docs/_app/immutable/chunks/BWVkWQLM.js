import{A as B,a5 as P,V as G,H as $,y as A,B as F,C as O,aw as Q,ac as X,aU as J,aV as m,G as x,I as ee,aW as re,aX as ae,i as se,aY as te,aZ as ie,Q as H,a_ as ue,a$ as fe,b0 as le,aC as oe,b1 as ce}from"./Bf0lWsRu.js";import{i as ne,c as ve,d as _e,n as de,a as be}from"./Cu2BEfFs.js";import{t as he,c as ye,s as pe}from"./C7iUW-It.js";function Ae(e,a){var r=void 0,s;B(()=>{r!==(r=a())&&(s&&(P(s),s=null),r&&(s=G(()=>{$(()=>r(e))})))})}function M(e,a={},r,s){for(var t in r){var f=r[t];a[t]!==f&&(r[t]==null?e.style.removeProperty(t):e.style.setProperty(t,f,s))}}function ge(e,a,r,s){var t=e.__style;if(A||t!==a){var f=he(a,s);(!A||f!==e.getAttribute("style"))&&(f==null?e.removeAttribute("style"):e.style.cssText=f),e.__style=a}else s&&(Array.isArray(s)?(M(e,r?.[0],s[0]),M(e,r?.[1],s[1],"important")):M(e,r,s));return s}function I(e,a,r=!1){if(e.multiple){if(a==null)return;if(!X(a))return J();for(var s of e.options)s.selected=a.includes(E(s));return}for(s of e.options){var t=E(s);if(m(t,a)){s.selected=!0;return}}(!r||a!==void 0)&&(e.selectedIndex=-1)}function j(e){var a=new MutationObserver(()=>{I(e,e.__value)});a.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Q(()=>{a.disconnect()})}function Ie(e,a,r=a){var s=new WeakSet,t=!0;F(e,"change",f=>{var _=f?"[selected]":":checked",b;if(e.multiple)b=[].map.call(e.querySelectorAll(_),E);else{var c=e.querySelector(_)??e.querySelector("option:not([disabled])");b=c&&E(c)}r(b),O!==null&&s.add(O)}),$(()=>{var f=a();if(e===document.activeElement){var _=x??O;if(s.has(_))return}if(I(e,f,t),t&&f===void 0){var b=e.querySelector(":checked");b!==null&&(f=E(b),r(f))}e.__value=f,t=!1}),j(e)}function E(e){return"__value"in e?e.__value:e.value}const w=Symbol("class"),k=Symbol("style"),D=Symbol("is custom element"),K=Symbol("is html");function Se(e){if(A){var a=!1,r=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var s=e.value;L(e,"value",null),e.value=s}if(e.hasAttribute("checked")){var t=e.checked;L(e,"checked",null),e.checked=t}}};e.__on_r=r,ee(r),re()}}function Le(e,a){var r=q(e);r.value===(r.value=a??void 0)||e.value===a&&(a!==0||e.nodeName!=="PROGRESS")||(e.value=a??"")}function Ne(e,a){a?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function L(e,a,r,s){var t=q(e);A&&(t[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||t[a]!==(t[a]=r)&&(a==="loading"&&(e[ie]=r),r==null?e.removeAttribute(a):typeof r!="string"&&W(e).includes(a)?e[a]=r:e.setAttribute(a,r))}function ke(e,a,r,s,t=!1,f=!1){if(A&&t&&e.tagName==="INPUT"){var _=e,b=_.type==="checkbox"?"defaultChecked":"defaultValue";b in r||Se(_)}var c=q(e),h=c[D],T=!c[K];let g=A&&h;g&&H(!1);var l=a||{},y=e.tagName==="OPTION";for(var S in a)S in r||(r[S]=null);r.class?r.class=ye(r.class):r.class=null,r[k]&&(r.style??=null);var N=W(e);for(const i in r){let u=r[i];if(y&&i==="value"&&u==null){e.value=e.__value="",l[i]=u;continue}if(i==="class"){var d=e.namespaceURI==="http://www.w3.org/1999/xhtml";pe(e,d,u,s,a?.[w],r[w]),l[i]=u,l[w]=r[w];continue}if(i==="style"){ge(e,u,a?.[k],r[k]),l[i]=u,l[k]=r[k];continue}var U=l[i];if(!(u===U&&!(u===void 0&&e.hasAttribute(i)))){l[i]=u;var V=i[0]+i[1];if(V!=="$$")if(V==="on"){const v={},p="$$"+i;let o=i.slice(2);var C=be(o);if(ne(o)&&(o=o.slice(0,-7),v.capture=!0),!C&&U){if(u!=null)continue;e.removeEventListener(o,l[p],v),l[p]=null}if(u!=null)if(C)e[`__${o}`]=u,_e([o]);else{let Z=function(z){l[i].call(this,z)};l[p]=ve(o,e,Z,v)}else C&&(e[`__${o}`]=void 0)}else if(i==="style")L(e,i,u);else if(i==="autofocus")ue(e,!!u);else if(!h&&(i==="__value"||i==="value"&&u!=null))e.value=e.__value=u;else if(i==="selected"&&y)Ne(e,u);else{var n=i;T||(n=de(n));var R=n==="defaultValue"||n==="defaultChecked";if(u==null&&!h&&!R)if(c[i]=null,n==="value"||n==="checked"){let v=e;const p=a===void 0;if(n==="value"){let o=v.defaultValue;v.removeAttribute(n),v.defaultValue=o,v.value=v.__value=p?o:null}else{let o=v.defaultChecked;v.removeAttribute(n),v.defaultChecked=o,v.checked=p?o:!1}}else e.removeAttribute(i);else R||N.includes(n)&&(h||typeof u!="string")?(e[n]=u,n in c&&(c[n]=fe)):typeof u!="function"&&L(e,n,u)}}}return g&&H(!0),l}function Ce(e,a,r=[],s=[],t,f=!1,_=!1){ae(r,s,b=>{var c=void 0,h={},T=e.nodeName==="SELECT",g=!1;if(B(()=>{var y=a(...b.map(se)),S=ke(e,c,y,t,f,_);g&&T&&"value"in y&&I(e,y.value);for(let d of Object.getOwnPropertySymbols(h))y[d]||P(h[d]);for(let d of Object.getOwnPropertySymbols(y)){var N=y[d];d.description===te&&(!c||N!==c[d])&&(h[d]&&P(h[d]),h[d]=G(()=>Ae(e,()=>N))),S[d]=N}c=S}),T){var l=e;$(()=>{I(l,c.value,!0),j(l)})}g=!0})}function q(e){return e.__attributes??={[D]:e.nodeName.includes("-"),[K]:e.namespaceURI===le}}var Y=new Map;function W(e){var a=e.getAttribute("is")||e.nodeName,r=Y.get(a);if(r)return r;Y.set(a,r=[]);for(var s,t=e,f=Element.prototype;f!==t;){s=ce(t);for(var _ in s)s[_].set&&r.push(_);t=oe(t)}return r}export{k as S,L as a,ge as b,Ie as c,Ce as d,Se as r,Le as s};
