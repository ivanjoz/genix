import{e as a,g as o,i as u,h as c}from"./Bf0lWsRu.js";import{G as n,P as f}from"./D1d-xt8D.js";class d extends n{route="usuarios";useCache={min:5,ver:1};#s=a(o([]));get usuarios(){return u(this.#s)}set usuarios(s){c(this.#s,s,!0)}#e=a(o(new Map));get usuariosMap(){return u(this.#e)}set usuariosMap(s){c(this.#e,s,!0)}handler(s){this.usuarios=s||[],this.usuariosMap=new Map(this.usuarios.map(r=>[r.id,r]))}constructor(){super(),this.fetch()}updateUsuario(s){const r=this.usuarios.find(e=>e.id===s.id);r?Object.assign(r,s):this.usuarios.unshift(s),this.usuariosMap.set(s.id,s)}removeUsuario(s){this.usuarios=this.usuarios.filter(r=>r.id!==s),this.usuariosMap.delete(s)}}class g extends n{route="perfiles";useCache={min:5,ver:1};#s=a(o([]));get perfiles(){return u(this.#s)}set perfiles(s){c(this.#s,s,!0)}handler(s){const r=(s||[]).filter(e=>e.ss>0);for(const e of r){e.accesos=e.accesos||[],e.accesosMap=e.accesosMap||new Map;for(const p of e.accesos){const i=Math.floor(p/10),h=p-i*10;e.accesosMap.has(i)?e.accesosMap.get(i).push(h):e.accesosMap.set(i,[h])}}this.perfiles=r}constructor(){super(),this.fetch()}}const m=t=>f({data:t,route:"usuarios",refreshRoutes:["usuarios"]}),v=t=>f({data:t,route:"usuario-propio",refreshRoutes:["usuarios"]});export{g as P,d as U,v as a,m as p};
