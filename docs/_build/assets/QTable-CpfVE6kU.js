import{$,l as te,m as X,n as me,a as F,p as G,j as ge,q as ve,v as be,d as ye,g as ne,o as se,f as W,i as M,c as C,F as j,b as R,e as V,s as H,S as J,t as T,u as we}from"./web-D2t8vN-4.js";import{e as ie,O as Se,z as xe}from"./app-De9iPHfG.js";const Z=Symbol("store-raw"),p=Symbol("store-node"),E=Symbol("store-has"),ce=Symbol("store-self");function ae(e){let l=e[$];if(!l&&(Object.defineProperty(e,$,{value:l=new Proxy(e,ze)}),!Array.isArray(e))){const t=Object.keys(e),s=Object.getOwnPropertyDescriptors(e);for(let n=0,i=t.length;n<i;n++){const r=t[n];s[r].get&&Object.defineProperty(e,r,{enumerable:s[r].enumerable,get:s[r].get.bind(l)})}}return l}function A(e){let l;return e!=null&&typeof e=="object"&&(e[$]||!(l=Object.getPrototypeOf(e))||l===Object.prototype||Array.isArray(e))}function D(e,l=new Set){let t,s,n,i;if(t=e!=null&&e[Z])return t;if(!A(e)||l.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):l.add(e);for(let r=0,o=e.length;r<o;r++)n=e[r],(s=D(n,l))!==n&&(e[r]=s)}else{Object.isFrozen(e)?e=Object.assign({},e):l.add(e);const r=Object.keys(e),o=Object.getOwnPropertyDescriptors(e);for(let a=0,u=r.length;a<u;a++)i=r[a],!o[i].get&&(n=e[i],(s=D(n,l))!==n&&(e[i]=s))}return e}function q(e,l){let t=e[l];return t||Object.defineProperty(e,l,{value:t=Object.create(null)}),t}function K(e,l,t){if(e[l])return e[l];const[s,n]=F(t,{equals:!1,internal:!0});return s.$=n,e[l]=s}function Ce(e,l){const t=Reflect.getOwnPropertyDescriptor(e,l);return!t||t.get||!t.configurable||l===$||l===p||(delete t.value,delete t.writable,t.get=()=>e[$][l]),t}function ue(e){X()&&K(q(e,p),ce)()}function Oe(e){return ue(e),Reflect.ownKeys(e)}const ze={get(e,l,t){if(l===Z)return e;if(l===$)return t;if(l===te)return ue(e),t;const s=q(e,p),n=s[l];let i=n?n():e[l];if(l===p||l===E||l==="__proto__")return i;if(!n){const r=Object.getOwnPropertyDescriptor(e,l);X()&&(typeof i!="function"||e.hasOwnProperty(l))&&!(r&&r.get)&&(i=K(s,l,i)())}return A(i)?ae(i):i},has(e,l){return l===Z||l===$||l===te||l===p||l===E||l==="__proto__"?!0:(X()&&K(q(e,E),l)(),l in e)},set(){return!0},deleteProperty(){return!0},ownKeys:Oe,getOwnPropertyDescriptor:Ce};function z(e,l,t,s=!1){if(!s&&e[l]===t)return;const n=e[l],i=e.length;t===void 0?(delete e[l],e[E]&&e[E][l]&&n!==void 0&&e[E][l].$()):(e[l]=t,e[E]&&e[E][l]&&n===void 0&&e[E][l].$());let r=q(e,p),o;if((o=K(r,l,n))&&o.$(()=>t),Array.isArray(e)&&e.length!==i){for(let a=e.length;a<i;a++)(o=r[a])&&o.$();(o=K(r,"length",i))&&o.$(e.length)}(o=r[ce])&&o.$()}function he(e,l){const t=Object.keys(l);for(let s=0;s<t.length;s+=1){const n=t[s];z(e,n,l[n])}}function Me(e,l){if(typeof l=="function"&&(l=l(e)),l=D(l),Array.isArray(l)){if(e===l)return;let t=0,s=l.length;for(;t<s;t++){const n=l[t];e[t]!==n&&z(e,t,n)}z(e,"length",s)}else he(e,l)}function L(e,l,t=[]){let s,n=e;if(l.length>1){s=l.shift();const r=typeof s,o=Array.isArray(e);if(Array.isArray(s)){for(let a=0;a<s.length;a++)L(e,[s[a]].concat(l),t);return}else if(o&&r==="function"){for(let a=0;a<e.length;a++)s(e[a],a)&&L(e,[a].concat(l),t);return}else if(o&&r==="object"){const{from:a=0,to:u=e.length-1,by:c=1}=s;for(let h=a;h<=u;h+=c)L(e,[h].concat(l),t);return}else if(l.length>1){L(e[s],l,[s].concat(t));return}n=e[s],t=[s].concat(t)}let i=l[0];typeof i=="function"&&(i=i(n,t),i===n)||s===void 0&&i==null||(i=D(i),s===void 0||A(n)&&A(i)&&!Array.isArray(i)?he(n,i):z(e,s,i))}function Ie(...[e,l]){const t=D(e||{}),s=Array.isArray(t),n=ae(t);function i(...r){me(()=>{s&&r.length===1?Me(t,r[0]):L(t,r)})}return[n,i]}const ee=Symbol("store-root");function k(e,l,t,s,n){const i=l[t];if(e===i)return;const r=Array.isArray(e);if(t!==ee&&(!A(e)||!A(i)||r!==Array.isArray(i)||n&&e[n]!==i[n])){z(l,t,e);return}if(r){if(e.length&&i.length&&(!s||n&&e[0]&&e[0][n]!=null)){let u,c,h,g,y,w,d,b;for(h=0,g=Math.min(i.length,e.length);h<g&&(i[h]===e[h]||n&&i[h]&&e[h]&&i[h][n]===e[h][n]);h++)k(e[h],i,h,s,n);const m=new Array(e.length),f=new Map;for(g=i.length-1,y=e.length-1;g>=h&&y>=h&&(i[g]===e[y]||n&&i[h]&&e[h]&&i[g][n]===e[y][n]);g--,y--)m[y]=i[g];if(h>y||h>g){for(c=h;c<=y;c++)z(i,c,e[c]);for(;c<e.length;c++)z(i,c,m[c]),k(e[c],i,c,s,n);i.length>e.length&&z(i,"length",e.length);return}for(d=new Array(y+1),c=y;c>=h;c--)w=e[c],b=n&&w?w[n]:w,u=f.get(b),d[c]=u===void 0?-1:u,f.set(b,c);for(u=h;u<=g;u++)w=i[u],b=n&&w?w[n]:w,c=f.get(b),c!==void 0&&c!==-1&&(m[c]=i[u],c=d[c],f.set(b,c));for(c=h;c<e.length;c++)c in m?(z(i,c,m[c]),k(e[c],i,c,s,n)):z(i,c,e[c])}else for(let u=0,c=e.length;u<c;u++)k(e[u],i,u,s,n);i.length>e.length&&z(i,"length",e.length);return}const o=Object.keys(e);for(let u=0,c=o.length;u<c;u++)k(e[o[u]],i,o[u],s,n);const a=Object.keys(i);for(let u=0,c=a.length;u<c;u++)e[a[u]]===void 0&&z(i,a[u],void 0)}function Ee(e,l={}){const{merge:t,key:s="id"}=l,n=D(e);return i=>{if(!A(i)||!A(n))return n;const r=k(n,{[ee]:i},ee,t,s);return r===void 0?i:r}}function P(e,l,t){let s=t.initialDeps??[],n;return()=>{var i,r,o,a;let u;t.key&&((i=t.debug)!=null&&i.call(t))&&(u=Date.now());const c=e();if(!(c.length!==s.length||c.some((y,w)=>s[w]!==y)))return n;s=c;let g;if(t.key&&((r=t.debug)!=null&&r.call(t))&&(g=Date.now()),n=l(...c),t.key&&((o=t.debug)!=null&&o.call(t))){const y=Math.round((Date.now()-u)*100)/100,w=Math.round((Date.now()-g)*100)/100,d=w/16,b=(m,f)=>{for(m=String(m);m.length<f;)m=" "+m;return m};console.info(`%câ± ${b(w,5)} /${b(y,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*d,120))}deg 100% 31%);`,t?.key)}return(a=t?.onChange)==null||a.call(t,n),n}}function U(e,l){if(e===void 0)throw new Error("Unexpected undefined");return e}const Te=(e,l)=>Math.abs(e-l)<1,_e=(e,l,t)=>{let s;return function(...n){e.clearTimeout(s),s=e.setTimeout(()=>l.apply(this,n),t)}},Re=e=>e,Ae=e=>{const l=Math.max(e.startIndex-e.overscan,0),t=Math.min(e.endIndex+e.overscan,e.count-1),s=[];for(let n=l;n<=t;n++)s.push(n);return s},$e=(e,l)=>{const t=e.scrollElement;if(!t)return;const s=e.targetWindow;if(!s)return;const n=r=>{const{width:o,height:a}=r;l({width:Math.round(o),height:Math.round(a)})};if(n(t.getBoundingClientRect()),!s.ResizeObserver)return()=>{};const i=new s.ResizeObserver(r=>{const o=r[0];if(o?.borderBoxSize){const a=o.borderBoxSize[0];if(a){n({width:a.inlineSize,height:a.blockSize});return}}n(t.getBoundingClientRect())});return i.observe(t,{box:"border-box"}),()=>{i.unobserve(t)}},le={passive:!0},Pe=typeof window>"u"?!0:"onscrollend"in window,ke=(e,l)=>{const t=e.scrollElement;if(!t)return;const s=e.targetWindow;if(!s)return;let n=0;const i=e.options.useScrollendEvent&&Pe?()=>{}:_e(s,()=>{l(n,!1)},e.options.isScrollingResetDelay),r=u=>()=>{const{horizontal:c,isRtl:h}=e.options;n=c?t.scrollLeft*(h&&-1||1):t.scrollTop,i(),l(n,u)},o=r(!0),a=r(!1);return a(),t.addEventListener("scroll",o,le),t.addEventListener("scrollend",a,le),()=>{t.removeEventListener("scroll",o),t.removeEventListener("scrollend",a)}},je=(e,l,t)=>{if(l?.borderBoxSize){const s=l.borderBoxSize[0];if(s)return Math.round(s[t.options.horizontal?"inlineSize":"blockSize"])}return Math.round(e.getBoundingClientRect()[t.options.horizontal?"width":"height"])},pe=(e,{adjustments:l=0,behavior:t},s)=>{var n,i;const r=e+l;(i=(n=s.scrollElement)==null?void 0:n.scrollTo)==null||i.call(n,{[s.options.horizontal?"left":"top"]:r,behavior:t})};class Fe{constructor(l){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let t=null;const s=()=>t||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:t=new this.targetWindow.ResizeObserver(n=>{n.forEach(i=>{this._measureElement(i.target,i)})}));return{disconnect:()=>{var n;(n=s())==null||n.disconnect(),t=null},observe:n=>{var i;return(i=s())==null?void 0:i.observe(n,{box:"border-box"})},unobserve:n=>{var i;return(i=s())==null?void 0:i.unobserve(n)}}})(),this.range=null,this.setOptions=t=>{Object.entries(t).forEach(([s,n])=>{typeof n>"u"&&delete t[s]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Re,rangeExtractor:Ae,onChange:()=>{},measureElement:je,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!0,...t}},this.notify=t=>{var s,n;(n=(s=this.options).onChange)==null||n.call(s,this,t)},this.maybeNotify=P(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),t=>{this.notify(t)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(t=>t()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var t;const s=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==s){if(this.cleanup(),!s){this.maybeNotify();return}this.scrollElement=s,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((t=this.scrollElement)==null?void 0:t.window)??null,this.elementsCache.forEach(n=>{this.observer.observe(n)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,n=>{this.scrollRect=n,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(n,i)=>{this.scrollAdjustments=0,this.scrollDirection=i?this.getScrollOffset()<n?"forward":"backward":null,this.scrollOffset=n,this.isScrolling=i,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(t,s)=>{const n=new Map,i=new Map;for(let r=s-1;r>=0;r--){const o=t[r];if(n.has(o.lane))continue;const a=i.get(o.lane);if(a==null||o.end>a.end?i.set(o.lane,o):o.end<a.end&&n.set(o.lane,!0),n.size===this.options.lanes)break}return i.size===this.options.lanes?Array.from(i.values()).sort((r,o)=>r.end===o.end?r.index-o.index:r.end-o.end)[0]:void 0},this.getMeasurementOptions=P(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(t,s,n,i,r)=>(this.pendingMeasuredCacheIndexes=[],{count:t,paddingStart:s,scrollMargin:n,getItemKey:i,enabled:r}),{key:!1}),this.getMeasurements=P(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:t,paddingStart:s,scrollMargin:n,getItemKey:i,enabled:r},o)=>{if(!r)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(c=>{this.itemSizeCache.set(c.key,c.size)}));const a=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const u=this.measurementsCache.slice(0,a);for(let c=a;c<t;c++){const h=i(c),g=this.options.lanes===1?u[c-1]:this.getFurthestMeasurement(u,c),y=g?g.end+this.options.gap:s+n,w=o.get(h),d=typeof w=="number"?w:this.options.estimateSize(c),b=y+d,m=g?g.lane:c%this.options.lanes;u[c]={index:c,start:y,size:d,end:b,key:h,lane:m}}return this.measurementsCache=u,u},{key:!1,debug:()=>this.options.debug}),this.calculateRange=P(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset()],(t,s,n)=>this.range=t.length>0&&s>0?De({measurements:t,outerSize:s,scrollOffset:n}):null,{key:!1,debug:()=>this.options.debug}),this.getIndexes=P(()=>[this.options.rangeExtractor,this.calculateRange(),this.options.overscan,this.options.count],(t,s,n,i)=>s===null?[]:t({startIndex:s.startIndex,endIndex:s.endIndex,overscan:n,count:i}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=t=>{const s=this.options.indexAttribute,n=t.getAttribute(s);return n?parseInt(n,10):(console.warn(`Missing attribute name '${s}={index}' on measured element.`),-1)},this._measureElement=(t,s)=>{const n=this.indexFromElement(t),i=this.measurementsCache[n];if(!i)return;const r=i.key,o=this.elementsCache.get(r);o!==t&&(o&&this.observer.unobserve(o),this.observer.observe(t),this.elementsCache.set(r,t)),t.isConnected&&this.resizeItem(n,this.options.measureElement(t,s,this))},this.resizeItem=(t,s)=>{const n=this.measurementsCache[t];if(!n)return;const i=this.itemSizeCache.get(n.key)??n.size,r=s-i;r!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(n,r,this):n.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=r,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(n.index),this.itemSizeCache=new Map(this.itemSizeCache.set(n.key,s)),this.notify(!1))},this.measureElement=t=>{if(!t){this.elementsCache.forEach((s,n)=>{s.isConnected||(this.observer.unobserve(s),this.elementsCache.delete(n))});return}this._measureElement(t,void 0)},this.getVirtualItems=P(()=>[this.getIndexes(),this.getMeasurements()],(t,s)=>{const n=[];for(let i=0,r=t.length;i<r;i++){const o=t[i],a=s[o];n.push(a)}return n},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=t=>{const s=this.getMeasurements();if(s.length!==0)return U(s[de(0,s.length-1,n=>U(s[n]).start,t)])},this.getOffsetForAlignment=(t,s)=>{const n=this.getSize(),i=this.getScrollOffset();s==="auto"&&(t<=i?s="start":t>=i+n?s="end":s="start"),s==="start"?t=t:s==="end"?t=t-n:s==="center"&&(t=t-n/2);const r=this.options.horizontal?"scrollWidth":"scrollHeight",a=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[r]:this.scrollElement[r]:0)-n;return Math.max(Math.min(a,t),0)},this.getOffsetForIndex=(t,s="auto")=>{t=Math.max(0,Math.min(t,this.options.count-1));const n=this.measurementsCache[t];if(!n)return;const i=this.getSize(),r=this.getScrollOffset();if(s==="auto")if(n.end>=r+i-this.options.scrollPaddingEnd)s="end";else if(n.start<=r+this.options.scrollPaddingStart)s="start";else return[r,s];const o=s==="end"?n.end+this.options.scrollPaddingEnd:n.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(o,s),s]},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(t,{align:s="start",behavior:n}={})=>{this.cancelScrollToIndex(),n==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(t,s),{adjustments:void 0,behavior:n})},this.scrollToIndex=(t,{align:s="auto",behavior:n}={})=>{t=Math.max(0,Math.min(t,this.options.count-1)),this.cancelScrollToIndex(),n==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const i=this.getOffsetForIndex(t,s);if(!i)return;const[r,o]=i;this._scrollToOffset(r,{adjustments:void 0,behavior:n}),n!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(t))){const[u]=U(this.getOffsetForIndex(t,o));Te(u,this.getScrollOffset())||this.scrollToIndex(t,{align:o,behavior:n})}else this.scrollToIndex(t,{align:o,behavior:n})}))},this.scrollBy=(t,{behavior:s}={})=>{this.cancelScrollToIndex(),s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+t,{adjustments:void 0,behavior:s})},this.getTotalSize=()=>{var t;const s=this.getMeasurements();let n;return s.length===0?n=this.options.paddingStart:n=this.options.lanes===1?((t=s[s.length-1])==null?void 0:t.end)??0:Math.max(...s.slice(-this.options.lanes).map(i=>i.end)),Math.max(n-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(t,{adjustments:s,behavior:n})=>{this.options.scrollToFn(t,{behavior:n,adjustments:s},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(l)}}const de=(e,l,t,s)=>{for(;e<=l;){const n=(e+l)/2|0,i=t(n);if(i<s)e=n+1;else if(i>s)l=n-1;else return n}return e>0?e-1:0};function De({measurements:e,outerSize:l,scrollOffset:t}){const s=e.length-1,i=de(0,s,o=>e[o].start,t);let r=i;for(;r<s&&e[r].end<t+l;)r++;return{startIndex:i,endIndex:r}}function Ve(e){const l=G(e),t=new Fe(l),[s,n]=Ie(t.getVirtualItems()),[i,r]=F(t.getTotalSize()),o={get(u,c){switch(c){case"getVirtualItems":return()=>s;case"getTotalSize":return()=>i();default:return Reflect.get(u,c)}}},a=new Proxy(t,o);return a.setOptions(l),ge(()=>{const u=a._didMount();a._willUpdate(),ve(u)}),be(()=>{a.setOptions(G(l,e,{onChange:(u,c)=>{var h;u._willUpdate(),n(Ee(u.getVirtualItems(),{key:"index"})),r(u.getTotalSize()),(h=e.onChange)==null||h.call(e,u,c)}})),a.measure()}),a}function Le(e){return Ve(G({observeElementRect:$e,observeElementOffset:ke,scrollToFn:pe},e))}var We=T("<table><thead></thead><tbody>"),Y=T("<div>"),re=T('<tr><td colspan=99><div class="empty-message flex ai-center">No se encontraron registros.'),Ke=T('<div class="flex ai-center jc-between">'),Ne=T("<span class=_highlight>"),fe=T("<tr>"),Be=T("<td>"),He=T("<tr><td>"),qe=T("<th>");function Ge(e){let l;const t=()=>{let d=[];for(let f of e.columns)if(f.subcols)for(let S of f.subcols)d.push(S);else d.push(f);d=d.filter(f=>f.cardColumn?.length>0),d.sort((f,S)=>f.cardColumn[0]-S.cardColumn[0]);const b=new Map;for(let f of d)b.has(f.cardColumn[0])?b.get(f.cardColumn[0]).push(f):b.set(f.cardColumn[0],[f]);const m=[];for(let f of b.values())f.sort((S,v)=>(S.cardColumn[1]||1)-(v.cardColumn[1]||1)),m.push(f);return m};let s=new Map,n=t();const i=()=>(console.log("is card view:: ",ie(),n.length),ie()===3&&n.length>0);ne(se(()=>[e.columns],()=>{s=new Map;for(let d of e.columns)d.field&&s.set(d.field,d);n=t()}));const r=(d,b)=>Le({count:(typeof b=="number"?b:d.data.length)||1,estimateSize:()=>34,getScrollElement:()=>l});let o=r(e);const[a,u]=F(o.getVirtualItems()),[c,h]=F(e.data),g=(d,b)=>{let m=d.makeFilter;if(!m&&d.filterKeys?.length>0&&(m=v=>{let x=[];for(let O of d.filterKeys){const I=O;v[I]&&(typeof v[I]=="string"||typeof v[I]=="number")&&x.push(String(v[I]))}return x.join(" ").toLowerCase()}),!m||!b)return d.data;let f=[];const S=b.split(" ").map(v=>v.toLowerCase());for(let v of d.data){const x=m(v);x&&xe(x,S)&&f.push(v)}return f};ne(se(()=>[e.data,e.filterText||""],()=>{const d=g(e,e.filterText);h(d),o=r(e,d.length),u(o.getVirtualItems())}));const y=W(()=>{const d=a();return d.length===0?50:o.getTotalSize()-d[0].size*d.length}),w=()=>i()?"w100":"qtable-c"+(e.css?" "+e.css:"");return(()=>{var d=Y(),b=l;return typeof b=="function"?we(b,d):l=d,M(d,C(J,{get when(){return!i()},get children(){var m=We(),f=m.firstChild,S=f.nextSibling;return M(f,C(Ue,{get columns(){return e.columns}})),M(S,C(j,{get each(){return a()},children:(v,x)=>{const O=c(),I=O[v.index],N=W(()=>e.selected&&e.isSelected?e.isSelected(I,e.selected):!1);return O.length===0&&x()===0?re():C(Qe,{row:v,record:I,get isFinal(){return a().length-1===x()},get firstItemStart(){return a()[0].start},get tableSize(){return y()},get isSelected(){return N()},get columns(){return e.columns},get onRowCLick(){return e.onRowCLick},get filterText(){return e.filterText},get filterKeys(){return e.filterKeys}})}})),R(v=>{var x="qtable h100 fixed-header "+(e.tableCss||""),O=e.tableStyle;return x!==v.e&&V(m,v.e=x),v.t=H(m,O,v.t),v},{e:void 0,t:void 0}),m}}),null),M(d,C(J,{get when(){return i()},get children(){return C(j,{get each(){return a()},children:(m,f)=>{const S=c(),v=S[m.index],x=W(()=>e.selected&&e.isSelected?e.isSelected(v,e.selected):!1);return S.length===0&&f()===0?re():(()=>{var O=Y();return O.$$click=I=>{I.stopPropagation(),e.onRowCLick&&e.onRowCLick(v)},M(O,C(j,{each:n,children:I=>(()=>{var N=Ke();return M(N,()=>I.map(_=>{let B="";return _.cardRender?B=_.cardRender(v,f(),null):_.render?B=_.render(v,-1,null):_.getValue&&(B=_.getValue(v,f())),(()=>{var Q=Y();return M(Q,B),R(()=>V(Q,_.cardCss||"")),Q})()})),N})()})),R(()=>V(O,"w100 flex-column card-ct mb-04"+(x()?" selected":""))),O})()}})}}),null),R(m=>{var f=w(),S={"max-height":e.maxHeight||"calc(100vh - 8rem - 12px)",...e.style||{},...i()?e.styleMobile||{}:{}};return f!==m.e&&V(d,m.e=f),m.t=H(d,S,m.t),m},{e:void 0,t:void 0}),d})()}function Qe(e){const[l]=F(e.columns),t=new Map,s=i=>{const r=i?new Set(i):null;for(let[o,a]of t)r&&!r.has(o)||a()},n=i=>{let r="";if(i.render?r=i.render(e.record,e.row.index,s):i.getValue&&(r=i.getValue(e.record,e.row.index)),typeof r=="string"&&i.field&&e.filterText){if(e.filterKeys&&e.filterKeys.includes(i.field))return(()=>{var o=Ne();return M(o,()=>Se(r,e.filterText.split(" "))),o})()}else return r};return[(()=>{var i=fe();return i.$$click=r=>{r.stopPropagation(),e.onRowCLick&&e.onRowCLick(e.record)},M(i,C(j,{get each(){return l()},children:(r,o)=>{const[a,u]=F(n(r)),c=()=>{u(n(r))};return t.set(r.id||o(),c),(()=>{var h=Be();return M(h,a),R(g=>{var y=r.css||void 0,w=r.cellStyle||void 0;return y!==g.e&&V(h,g.e=y),g.t=H(h,w,g.t),g},{e:void 0,t:void 0}),h})()}})),R(r=>{var o=!!e.isSelected,a=!!e.isFinal,u=e.row.index%2===0,c=e.row.index%2!==0,h=`${e.row.size}px`,g=`translateY(${e.firstItemStart}px)`;return o!==r.e&&i.classList.toggle("selected",r.e=o),a!==r.t&&i.classList.toggle("is-final",r.t=a),u!==r.a&&i.classList.toggle("tr-even",r.a=u),c!==r.o&&i.classList.toggle("tr-odd",r.o=c),h!==r.i&&((r.i=h)!=null?i.style.setProperty("height",h):i.style.removeProperty("height")),g!==r.n&&((r.n=g)!=null?i.style.setProperty("transform",g):i.style.removeProperty("transform")),r},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),i})(),W(()=>W(()=>!!e.isFinal)()&&(()=>{var i=He(),r=i.firstChild;return i.style.setProperty("visibility","hidden"),r.style.setProperty("border","none"),R(o=>(o=`${e.tableSize}px`)!=null?i.style.setProperty("height",o):i.style.removeProperty("height")),i})())]}function Ue(e){const l=()=>{const t=[],s=[];for(let n of e.columns){if(n._colspan=n?.subcols?.length||0,n._colspan)for(let i of n.subcols)s.push(i);t.push(n)}return[t,s]};return[(()=>{var t=fe();return M(t,C(j,{get each(){return l()[0]},children:s=>C(oe,{column:s})})),t})(),C(J,{get when(){return l()[1].length>0},get children(){return C(j,{get each(){return l()[1]},children:t=>C(oe,{column:t})})}})]}function oe(e){const l=e.column;let t=l.header;return typeof l.header=="function"&&(t=l.header()),(()=>{var s=qe();return M(s,t),R(n=>H(s,l.headerStyle,n)),s})()}ye(["click"]);export{Ge as Q};
