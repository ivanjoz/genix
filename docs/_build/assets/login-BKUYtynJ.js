import{t as h,i as l,d as w}from"./web-B9EQUxsk.js";import{m as x,a as c,E as t,s as y,c as _,L as g,i as $}from"./main-CyvPQj02.js";import{a as S,o as C,c as d}from"./solid-DoXAfIeo.js";import{I as p}from"./Input-HJvxZB2P.js";import{P as L}from"./http-BxXqqoH2.js";async function I(e){let s;e.CipherKey=x(32);try{s=await L({data:e,route:"p-user-login",apiName:"MAIN",headers:{"Content-Type":"application/json"}})}catch(i){return console.log(i),{error:i}}let a="";try{await c.parseAccesos(s,e.CipherKey),c.checkAcceso(1)?(y(_()),t.navigate("/")):t.clearAccesos()}catch(i){console.log("error encriptando::"),console.log(i)}return console.log(a),{result:s}}var P=h('<div class=p-rel><img class=bg-image-1 src=images/background-1.webp alt><div class="flex ai-center h100 login-bg-c1 p-rel"><div class="login-bg-1 w100"><div class="login-tt flex ai-center h2">Iniciar Sesión</div><div class="login-logo-c p-rel mb-08"><img class="w100 h100"src=/images/genix_logo.svg alt="Genix Logo"></div><div class="flex-center h2 ff-bold c-steel4 mb-16">Gestor Empresarial en la Nube para MyPes</div><div class="flex w100 jc-center ai-center"><button class="bn1 big d-blue"><i class=icon-login></i> Ingresar');const k=async e=>{g.standard("Enviando Credenciales..."),e.EmpresaID=1;const s=await I(e);console.log(s),s.error,g.remove()};function O(){const[e,s]=S({Usuario:"",Password:""});return C(()=>{$()===2&&t.navigate("/")}),(()=>{var a=P(),i=a.firstChild,m=i.nextSibling,n=m.firstChild,u=n.firstChild,b=u.nextSibling,v=b.nextSibling,o=v.nextSibling,f=o.firstChild;return l(n,d(p,{required:!0,css:"mb-12 w100 big-1",label:"Usuario",get saveOn(){return e()},save:"Usuario",type:"text",validator:r=>!!r&&String(r||"").length>4}),o),l(n,d(p,{required:!0,css:"mb-12 w100 big-1",label:"Contraseña",get saveOn(){return e()},save:"Password",type:"password",validator:r=>!!r&&String(r||"").length>4}),o),o.style.setProperty("margin-top","1.4rem"),f.$$click=r=>{r.stopPropagation(),k(e())},a})()}w(["click"]);export{O as default};
