import{m as u,c as i,b as s,G as a,N as c}from"./app-BWK4gxn2.js";const l=()=>u({route:"productos",emptyValue:[],errorMessage:"Hubo un error al obtener los productos.",cacheSyncTime:1,mergeRequest:!0,useIndexDBCache:"productos"},r=>{const o=r;for(let e of o.Records)e.Propiedades=e.Propiedades||[],e.Images?.length>0&&(e.Image=e.Images[e.Images.length-1]);return console.log("result productos:: ",o),o.productos=(o.Records||[]).filter(e=>e.ss>0),o.productosMap=i(o.productos,"ID"),o}),m=r=>s({data:r,route:"productos",refreshIndexDBCache:"productos"}),p=async r=>{let o=[];try{o=(await a({route:"productos-stock",emptyValue:[],errorMessage:"Hubo un error al obtener el stock.",cacheSyncTime:1,mergeRequest:!0,useIndexDBCache:"productos_stock",partition:{key:"AlmacenID",value:r,param:"almacen-id"}})).Records||[]}catch(e){c.failure(e)}return o},f=r=>s({data:r,route:"productos-stock",refreshIndexDBCache:"productos_stock"}),h=[{id:1,name:"Entrada Manual"},{id:2,name:"Salida Manual"}],I=async r=>{let o=`almacen-movimientos?almacen-id=${r.almacenID}`;if(!r.fechaInicio||!r.fechaFin)throw"No se encontrÃ³ una fecha de inicio o fin.";o+=`&fecha-hora-inicio=${r.fechaInicio*24*60*60+window._zoneOffset}`,o+=`&fecha-hora-fin=${(r.fechaFin+1)*24*60*60+window._zoneOffset}`;let e;try{e=await a({route:o,emptyValue:[],errorMessage:"Hubo un error al obtener los movimientos del almacÃ©n"})}catch(t){c.failure(t)}return e.Usuarios=e.Usuarios||[],e.Productos=e.Productos||[],e.Movimientos=e.Movimientos||[],e.Movimientos.sort((t,n)=>n.Created-t.Created),e};export{m as a,p as g,h as m,f as p,I as q,l as u};
