import"./DsnmJJEf.js";import{p as U,a2 as M,at as W,g as V,k as f,aq as D,a3 as R,au as F,a as G,b as S,c as B,f as C,d as H,a4 as X,s as Y,r as L,t as j,aH as q}from"./Du-3VwLa.js";import{s as O}from"./1RyHG_68.js";import{i as N}from"./QNJoOfXk.js";import{s as z,a as Z,c as A,b as I}from"./DDksb93E.js";import{b as J}from"./BpxvDMUD.js";import{p as u}from"./DeYnh8U8.js";import{P as K}from"./WZExwfoU.js";import{a as Q}from"./VsnTSXou.js";function $(_,e,w={}){const{offset:n=8,preferredPlacement:g="bottom",fitViewport:P=!0}=w,t=_.getBoundingClientRect(),i=e.getBoundingClientRect(),d=window.innerWidth,m=window.innerHeight,v=window.scrollX||window.pageXOffset,k=window.scrollY||window.pageYOffset,l={top:t.top,bottom:m-t.bottom,left:t.left,right:d-t.right},r={top:l.top>=i.height+n,bottom:l.bottom>=i.height+n,left:l.left>=i.width+n,right:l.right>=i.width+n},p=g.split("-")[0];let a=g,s=p;r[p]||(p==="bottom"||p==="top"?p==="bottom"&&r.top?s="top":p==="top"&&r.bottom?s="bottom":r.right?s="right":r.left?s="left":s=l.bottom>=l.top?"bottom":"top":p==="right"&&r.left?s="left":p==="left"&&r.right?s="right":r.bottom?s="bottom":r.top?s="top":s=l.right>=l.left?"right":"left",a=s);let c=0,o=0;switch(s){case"bottom":c=t.bottom+n,o=t.left+t.width/2-i.width/2;break;case"top":c=t.top-i.height-n,o=t.left+t.width/2-i.width/2;break;case"right":c=t.top+t.height/2-i.height/2,o=t.right+n;break;case"left":c=t.top+t.height/2-i.height/2,o=t.left-i.width-n;break}if(g.includes("-")){const h=g.split("-")[1];s==="top"||s==="bottom"?h==="start"?o=t.left:h==="end"&&(o=t.right-i.width):h==="start"?c=t.top:h==="end"&&(c=t.bottom-i.height)}if(c+=k,o+=v,P){const h=n+v,x=d-i.width-n+v,E=n+k,T=m-i.height-n+k;o=Math.max(h,Math.min(o,x)),c=Math.max(E,Math.min(c,T))}const y=m-n*2,b=d-n*2;return{top:Math.round(c),left:Math.round(o),placement:a,maxHeight:y,maxWidth:b}}const tt=`<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!-- Uploaded to: SVG Repo, www.svgrepo.com, Generator: SVG Repo Mixer Tools -->

<svg
   width="600"
   height="374.46808"
   viewBox="0 0 18 11.234042"
   version="1.1"
   id="svg1"
   sodipodi:docname="angle.svg"
   inkscape:version="1.4 (e7c3feb100, 2024-10-09)"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:dc="http://purl.org/dc/elements/1.1/">
  <defs
     id="defs1" />
  <sodipodi:namedview
     id="namedview1"
     pagecolor="#ffffff"
     bordercolor="#000000"
     borderopacity="0.25"
     inkscape:showpageshadow="2"
     inkscape:pageopacity="0.0"
     inkscape:pagecheckerboard="0"
     inkscape:deskcolor="#d1d1d1"
     inkscape:zoom="0.499375"
     inkscape:cx="-53.066333"
     inkscape:cy="163.20401"
     inkscape:window-width="1920"
     inkscape:window-height="1008"
     inkscape:window-x="0"
     inkscape:window-y="0"
     inkscape:window-maximized="1"
     inkscape:current-layer="svg1" />
  <title
     id="title1">triangle_fill</title>
  <rect
     style="fill:none;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:0;stroke-dasharray:none;stroke-opacity:0.403546"
     id="rect1"
     width="18"
     height="11.234042"
     x="0"
     y="0" />
  <g
     id="Shape"
     transform="translate(-287.99968,-54.679037)"
     style="fill:none;fill-rule:evenodd;stroke:none;stroke-width:1">
    <g
       id="triangle_fill"
       transform="translate(288,48)">
      <path
         d="M 24,0 V 24 H 0 V 0 Z m -11.40651,23.257841 -0.01155,0.0017 -0.07106,0.03553 -0.019,0.0037 v 0 l -0.01516,-0.0037 -0.07106,-0.03553 c -0.0098,-0.0031 -0.01861,-4.89e-4 -0.02351,0.0054 l -0.0041,0.01092 -0.01709,0.427279 0.005,0.02039 0.01101,0.01222 0.103573,0.07398 0.01487,0.0039 v 0 l 0.01177,-0.0039 0.103575,-0.07398 0.0126,-0.01604 v 0 l 0.0034,-0.01656 -0.01709,-0.427279 c -0.002,-0.01013 -0.0085,-0.01653 -0.01607,-0.01799 z m 0.264901,-0.112555 -0.01384,0.002 -0.184705,0.09235 -0.01,0.01024 v 0 l -0.0027,0.01121 0.0179,0.429528 0.0048,0.01278 v 0 l 0.0085,0.0071 0.200954,0.09275 c 0.01209,0.0037 0.02289,-2.52e-4 0.02849,-0.008 l 0.004,-0.01406 -0.03415,-0.614631 c -0.0024,-0.01194 -0.01027,-0.01953 -0.01929,-0.02125 z m -0.715344,0.002 c -0.0098,-0.0049 -0.02087,-0.002 -0.02741,0.0053 l -0.0057,0.01394 -0.03415,0.614631 c -6.39e-4,0.0115 0.007,0.0207 0.01688,0.0234 l 0.01561,-0.0013 0.200955,-0.09275 0.0094,-0.0081 v 0 l 0.0039,-0.0118 0.0179,-0.429528 -0.0032,-0.01259 v 0 l -0.0095,-0.0089 z"
         id="MingCute"
         fill-rule="nonzero" />
    </g>
  </g>
  <path
     d="m 7.9808726,1.6044182 c 0.4529693,-0.6776268 1.5853115,-0.67763372 2.0382024,-6.6e-6 l 6.77335,10.1335664 c 0.452888,0.677626 -0.113204,1.524658 -1.019062,1.524658 H 2.2266722 c -0.9058589,0 -1.47202265,-0.847032 -1.0190932,-1.524658 z"
     id="路径"
     fill="#09244b"
     style="fill:#ffffff;fill-rule:evenodd;stroke:#000000;stroke-width:2.13410997;stroke-linecap:square;stroke-linejoin:miter;stroke-dasharray:none;stroke-opacity:0.34;paint-order:stroke fill markers" />
  <metadata
     id="metadata2">
    <rdf:RDF>
      <cc:Work
         rdf:about="">
        <dc:title>triangle_fill</dc:title>
      </cc:Work>
    </rdf:RDF>
  </metadata>
</svg>
`;var et=C('<div><!> <div><img alt=""/></div></div>');function dt(_,e){U(e,!0);let w=u(e,"open",3,!1),n=u(e,"placement",3,"bottom"),g=u(e,"offset",3,8),P=u(e,"fitViewport",3,!0),t=u(e,"class",3,""),i=u(e,"style",3,""),d=M(null),m=M(W({top:0,left:0,placement:n()}));V(()=>{w()&&e.referenceElement&&f(d)&&(console.log("referenceElement",e.referenceElement),v())}),V(()=>{if(!w())return;const a=()=>{w()&&e.referenceElement&&f(d)&&v()};return window.addEventListener("scroll",a,!0),window.addEventListener("resize",a),()=>{window.removeEventListener("scroll",a,!0),window.removeEventListener("resize",a)}});async function v(){if(!e.referenceElement||!f(d))return;await D();const a=$(e.referenceElement,f(d),{offset:g(),preferredPlacement:n(),fitViewport:P()});R(m,a,!0),e.onPositionUpdate&&e.onPositionUpdate(a)}const k=q(()=>()=>w()?`
			position: absolute;
			top: ${f(m).top}px;
			left: ${f(m).left}px;
			z-index: 210;
			${i()}
		`.trim():"display: none;");var l=F(),r=G(l);{var p=a=>{K(a,{children:(s,c)=>{var o=et(),y=H(o);O(y,()=>e.children??X);var b=Y(y,2),h=H(b);z(h,1,"_5 w-24 h-24 top"),L(b),L(o),J(o,x=>R(d,x),()=>f(d)),j((x,E)=>{z(o,1,`${t()??""} ps-${f(m).placement??""}`),Z(o,x),z(b,1,A(["absolute overflow-hidden h-18 flex justify-center w-full",f(m).placement==="bottom"&&"top-[-18px]",f(m).placement==="top"&&"bottom-[-18px] rotate-180"])),I(h,"src",E)},[()=>f(k)(),()=>Q(tt)]),S(s,o)},$$slots:{default:!0}})};N(r,a=>{w()&&a(p)})}S(_,l),B()}export{dt as P};
