import{t as x,i as v,d as _e,c as y,a as E,b as ee,P as Ce,u as X}from"./web-B9EQUxsk.js";import{c as k,d as S,b as I,g as Ee,a as M,e as N,f as te,S as H,F as ue,o as Re}from"./solid-DoXAfIeo.js";import{c as Fe,d as z,h as fe,S as ne,e as He}from"./app-BTQHO6nA.js";import{I as V}from"./Uploaders-COmnKtup.js";import{q as Ie,e as Se,r as he,I as Oe,E as je,g as Ge,b as G,u as pe,t as ge,h as Ae,v as Pe,w as Ne}from"./main-CypfFe8I.js";import{a as Ve}from"./http-BThfyHi6.js";import{c as Be}from"./store-DHPf-lLy.js";import{I as q}from"./Input-CWgffABR.js";import"./main-Xr7ZHKo0.js";var qe=x("<div class=w100>"),Ue=x("<div class=w100><h2>title ---------</h2><h2>hola mundo"),We=x('<div class="layer-im1 w100">'),Ze=x('<div class="w100 h100">'),Ye=x("<div class=w100><div><h1></h1></div><div>");function Je(e){return(()=>{var r=qe();return r.style.setProperty("height","160vh"),r})()}function Xe(e){return(()=>{var r=Ue();return r.style.setProperty("height","80px"),r})()}function Ke(e){return(()=>{var r=We();return v(r,k(Fe,{offsetTop:0,get keyUpdated(){return e.args.Image||"_"},get children(){return S(()=>!!e.args.Image)()?k(V,{size:8,get src(){return`img-galeria/${e.args.Image}`},class:"w100",style:{height:"auto"},types:["avif","webp"]}):Ze()}})),I(o=>(o=e.args.marginTop)!=null?r.style.setProperty("margin-top",o):r.style.removeProperty("margin-top")),r})()}function Qe(e){return(()=>{var r=Ye(),o=r.firstChild,s=o.firstChild,t=o.nextSibling;return r.style.setProperty("height","12rem"),v(s,()=>e.args.Title),v(t,()=>e.args.Content),r})()}const De=`<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!-- Uploaded to: SVG Repo, www.svgrepo.com, Generator: SVG Repo Mixer Tools -->

<svg
   width="600"
   height="374.46808"
   viewBox="0 0 18 11.234042"
   version="1.1"
   id="svg1"
   sodipodi:docname="angle.svg"
   inkscape:version="1.4 (e7c3feb100, 2024-10-09)"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:dc="http://purl.org/dc/elements/1.1/">
  <defs
     id="defs1" />
  <sodipodi:namedview
     id="namedview1"
     pagecolor="#ffffff"
     bordercolor="#000000"
     borderopacity="0.25"
     inkscape:showpageshadow="2"
     inkscape:pageopacity="0.0"
     inkscape:pagecheckerboard="0"
     inkscape:deskcolor="#d1d1d1"
     inkscape:zoom="0.499375"
     inkscape:cx="-53.066333"
     inkscape:cy="163.20401"
     inkscape:window-width="1920"
     inkscape:window-height="1008"
     inkscape:window-x="0"
     inkscape:window-y="0"
     inkscape:window-maximized="1"
     inkscape:current-layer="svg1" />
  <title
     id="title1">triangle_fill</title>
  <rect
     style="fill:none;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:0;stroke-dasharray:none;stroke-opacity:0.403546"
     id="rect1"
     width="18"
     height="11.234042"
     x="0"
     y="0" />
  <g
     id="Shape"
     transform="translate(-287.99968,-54.679037)"
     style="fill:none;fill-rule:evenodd;stroke:none;stroke-width:1">
    <g
       id="triangle_fill"
       transform="translate(288,48)">
      <path
         d="M 24,0 V 24 H 0 V 0 Z m -11.40651,23.257841 -0.01155,0.0017 -0.07106,0.03553 -0.019,0.0037 v 0 l -0.01516,-0.0037 -0.07106,-0.03553 c -0.0098,-0.0031 -0.01861,-4.89e-4 -0.02351,0.0054 l -0.0041,0.01092 -0.01709,0.427279 0.005,0.02039 0.01101,0.01222 0.103573,0.07398 0.01487,0.0039 v 0 l 0.01177,-0.0039 0.103575,-0.07398 0.0126,-0.01604 v 0 l 0.0034,-0.01656 -0.01709,-0.427279 c -0.002,-0.01013 -0.0085,-0.01653 -0.01607,-0.01799 z m 0.264901,-0.112555 -0.01384,0.002 -0.184705,0.09235 -0.01,0.01024 v 0 l -0.0027,0.01121 0.0179,0.429528 0.0048,0.01278 v 0 l 0.0085,0.0071 0.200954,0.09275 c 0.01209,0.0037 0.02289,-2.52e-4 0.02849,-0.008 l 0.004,-0.01406 -0.03415,-0.614631 c -0.0024,-0.01194 -0.01027,-0.01953 -0.01929,-0.02125 z m -0.715344,0.002 c -0.0098,-0.0049 -0.02087,-0.002 -0.02741,0.0053 l -0.0057,0.01394 -0.03415,0.614631 c -6.39e-4,0.0115 0.007,0.0207 0.01688,0.0234 l 0.01561,-0.0013 0.200955,-0.09275 0.0094,-0.0081 v 0 l 0.0039,-0.0118 0.0179,-0.429528 -0.0032,-0.01259 v 0 l -0.0095,-0.0089 z"
         id="MingCute"
         fill-rule="nonzero" />
    </g>
  </g>
  <path
     d="m 7.9808726,1.6044182 c 0.4529693,-0.6776268 1.5853115,-0.67763372 2.0382024,-6.6e-6 l 6.77335,10.1335664 c 0.452888,0.677626 -0.113204,1.524658 -1.019062,1.524658 H 2.2266722 c -0.9058589,0 -1.47202265,-0.847032 -1.0190932,-1.524658 z"
     id="路径"
     fill="#09244b"
     style="fill:#ffffff;fill-rule:evenodd;stroke:#000000;stroke-width:2.13410997;stroke-linecap:square;stroke-linejoin:miter;stroke-dasharray:none;stroke-opacity:0.34;paint-order:stroke fill markers" />
  <metadata
     id="metadata2">
    <rdf:RDF>
      <cc:Work
         rdf:about="">
        <dc:title>triangle_fill</dc:title>
      </cc:Work>
    </rdf:RDF>
  </metadata>
</svg>
`,et="_product_cuadrilla_ctn_kp12y_1",tt="_product_cuadrilla_ctn_mobile_kp12y_7",rt="_product_cuadrilla_mobile_kp12y_15",nt="_product_card_kp12y_21",ot="_product_card_mobile_kp12y_21",at="_product_card_image_kp12y_41",ct="_product_name_ctn_kp12y_50",it="_product_cart_button_kp12y_60",st="_product_cart_button_mobile_kp12y_75",lt="_product_cart_bn_text_kp12y_104",dt="_product_cart_bn_cant_kp12y_133",_t="_floating_cart_ctn_ref_kp12y_149",ut="_floating_cart_ctn_kp12y_149",pt="_floating_cart_ctn_open_kp12y_171",gt="_floating_cart_content_kp12y_175",mt="_floating_cart_btn_kp12y_194",vt="_floating_cart_card_kp12y_219",ft="_floating_producto_card_kp12y_245",ht="_floating_producto_card_img_kp12y_259",bt="_producto_card_ctn_kp12y_266",yt="_producto_card_btn_del_kp12y_273",wt="_producto_card_price_kp12y_293",kt="_producto_card_btn_ctn_kp12y_297",$t="_floating_cart_count_kp12y_301",xt="_producto_card_btn_cant_kp12y_311",Ct="_producto_card_btn_input_kp12y_323",It="_menu_cart_layer_kp12y_331",St="_menu_cart_layer_btn_ctn_kp12y_345",Pt="_menu_cart_layer_btn_kp12y_345",Dt="_menu_cart_layer_btn_selected_kp12y_358",zt="_menu_cart_layer_angle_kp12y_364",Mt="_cart_button_1_kp12y_368",Lt="_producto_layer_bg_kp12y_382",Tt="_producto_layer_ctn_kp12y_391",Et="_producto_layer_img_ctn_kp12y_403",Rt="_producto_layer_img_min_kp12y_407",Ft="_producto_layer_content_kp12y_414",Ht="_producto_layer_img1_kp12y_417",Ot="_producto_cart_btn_kp12y_425",jt="_productos_search_bar_cnt_kp12y_440",Gt="_productos_search_bar_mobile_cont_kp12y_444",At="_productos_search_input_kp12y_452",Nt="_productos_search_input_mobile_kp12y_457",Vt="_productos_search_icon_kp12y_482",Bt="_productos_search_layer_kp12y_495",qt="_productos_search_layer_mobile_kp12y_504",Ut="_productos_search_layer_angle_kp12y_520",Wt="_top_bar_mobile_kp12y_526",Zt="_top_bar_mobile_icon_kp12y_536",Yt="_producto_filter_container_kp12y_566",Jt="_is_mobile_kp12y_573",Xt="_producto_filter_card_kp12y_578",Kt="_producto_filter_card_image_kp12y_593",Qt="_producto_filter_button_kp12y_609",er="_producto_filter_mobile_text_kp12y_652",m={product_cuadrilla_ctn:et,product_cuadrilla_ctn_mobile:tt,product_cuadrilla_mobile:rt,product_card:nt,product_card_mobile:ot,product_card_image:at,product_name_ctn:ct,product_cart_button:it,product_cart_button_mobile:st,product_cart_bn_text:lt,product_cart_bn_cant:dt,floating_cart_ctn_ref:_t,floating_cart_ctn:ut,floating_cart_ctn_open:pt,floating_cart_content:gt,floating_cart_btn:mt,floating_cart_card:vt,floating_producto_card:ft,floating_producto_card_img:ht,producto_card_ctn:bt,producto_card_btn_del:yt,producto_card_price:wt,producto_card_btn_ctn:kt,floating_cart_count:$t,producto_card_btn_cant:xt,producto_card_btn_input:Ct,menu_cart_layer:It,menu_cart_layer_btn_ctn:St,menu_cart_layer_btn:Pt,menu_cart_layer_btn_selected:Dt,menu_cart_layer_angle:zt,cart_button_1:Mt,producto_layer_bg:Lt,producto_layer_ctn:Tt,producto_layer_img_ctn:Et,producto_layer_img_min:Rt,producto_layer_content:Ft,producto_layer_img1:Ht,producto_cart_btn:Ot,productos_search_bar_cnt:jt,productos_search_bar_mobile_cont:Gt,productos_search_input:At,productos_search_input_mobile:Nt,productos_search_icon:Vt,productos_search_layer:Bt,productos_search_layer_mobile:qt,productos_search_layer_angle:Ut,top_bar_mobile:Wt,top_bar_mobile_icon:Zt,producto_filter_container:Yt,is_mobile:Jt,producto_filter_card:Xt,producto_filter_card_image:Kt,producto_filter_button:Qt,producto_filter_mobile_text:er};function K(e){e.preventDefault()}var tr=new Set(["ArrowUp","ArrowRight","ArrowDown","ArrowLeft"]);function rr(e){if(tr.has(e.key))return K(e),!1}var ze=new AbortController,Y=ze.signal;function nr(){window.addEventListener("DOMMouseScroll",K,{signal:Y}),window.addEventListener("wheel",K,{passive:!1,signal:Y}),window.addEventListener("touchmove",K,{passive:!1,signal:Y}),window.addEventListener("keydown",rr,{signal:Y})}function or(){ze?.abort()}function ar(e){if(!e)throw new Error("Please specify a container for the zoom image");const r=e.querySelector("img");if(!r)throw new Error("Please place an image inside the container");return r}var cr=50,ir=()=>({createZoomImage:(r,o,s)=>{if(r.src===o)return;r.src=o;let t=!1;r.onload=()=>{t=!0,s.setState({zoomedImgStatus:"loaded"})},r.onerror=()=>{t=!0,s.setState({zoomedImgStatus:"error"})},setTimeout(()=>{t||s.setState({zoomedImgStatus:"loading"})},cr)}}),sr=ir();function lr(e){let r=new Set,o=!1,s=e,t,i=(f={})=>{t={...t,...f},c()},c=()=>{if(o)return;let f=!1;if(t){for(let _ in t)if(s[_]!==t[_]){f=!0;break}}f&&(s={...s,...t},r.forEach(_=>_({state:s,updatedProperties:t})),t=void 0)};return{subscribe:f=>(r.add(f),()=>{r.delete(f)}),cleanup:()=>r.clear(),getState:()=>s,setState:i,batch:f=>{o=!0,f(),o=!1,c()}}}function dr(e,r={}){let o=null;const s=ar(e),t={zoomFactor:r.zoomFactor??4,zoomImageSource:r.zoomImageSource??s.src,disabledContextMenu:r.disabledContextMenu??!1},{disabledContextMenu:i,zoomFactor:c,zoomImageSource:f}=t,_=lr({zoomedImgStatus:"idle"}),p=document.createElement("img");r.zoomImageProps?.alt&&(p.alt=r.zoomImageProps.alt),r.zoomImageProps?.className&&(p.className=r.zoomImageProps.className),p.style.maxWidth="none",p.style.position="absolute",p.style.top="0",p.style.left="0",i&&(p.style["-webkit-user-select"]="none",p.style["-webkit-touch-callout"]="none",p.oncontextmenu=()=>!1);const g=b=>o&&b.pointerId===o;function u(b){if(o===null){o=b.pointerId,e.appendChild(p),p.style.display="block";const $=s.clientWidth*c,L=s.clientHeight*c;p.style.width=`${$}px`,p.style.height=`${L}px`,sr.createZoomImage(p,f,_),l(b),b.pointerType!=="mouse"&&nr()}}function w(b){g(b)&&l(b)}function n(b){g(b)&&(e.contains(p)&&e.removeChild(p),p.style.display="none",p.style.transform="none",or(),o=null)}const d=b=>{const $=e.clientWidth;return b>0?0:b+$*c<$?-$*(c-1):b},a=b=>{const $=e.clientHeight;return b>0?0:b+$*c<$?-$*(c-1):b};function l(b){p.style.display="block";const $=e.getBoundingClientRect(),L=b.clientX-$.left,R=b.clientY-$.top,O=d(-L*c+L),F=a(-R*c+R);p.style.transform=`translate(${O}px, ${F}px)`}const h=new AbortController,{signal:C}=h;return e.addEventListener("pointerenter",u,{signal:C}),e.addEventListener("pointermove",w,{signal:C}),e.addEventListener("pointerleave",n,{signal:C}),e.addEventListener("touchstart",b=>{i&&b.preventDefault()},{signal:C}),{cleanup:()=>{h.abort(),e.contains(p)&&e.removeChild(p),_.cleanup()},subscribe:_.subscribe,getState:_.getState}}function _r(){let e;const[r,o]=Be({zoomedImgStatus:"idle"}),s=(...t)=>{e?.cleanup(),e=dr(...t),o(e.getState()),e.subscribe(({state:i})=>{o(i)})};return Ee(()=>{e?.cleanup()}),{createZoomImage:s,zoomImageState:r}}const ur=`<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!-- Uploaded to: SVG Repo, www.svgrepo.com, Generator: SVG Repo Mixer Tools -->

<svg
   width="466.66583"
   height="466.66583"
   viewBox="0 0 13.999975 13.999975"
   fill="none"
   version="1.1"
   id="svg1"
   sodipodi:docname="icon_cancel.svg"
   inkscape:version="1.4 (e7c3feb100, 2024-10-09)"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg">
  <defs
     id="defs1" />
  <sodipodi:namedview
     id="namedview1"
     pagecolor="#ffffff"
     bordercolor="#000000"
     borderopacity="0.25"
     inkscape:showpageshadow="2"
     inkscape:pageopacity="0.0"
     inkscape:pagecheckerboard="0"
     inkscape:deskcolor="#d1d1d1"
     inkscape:zoom="0.499375"
     inkscape:cx="-89.111389"
     inkscape:cy="323.40426"
     inkscape:window-width="1920"
     inkscape:window-height="1008"
     inkscape:window-x="0"
     inkscape:window-y="0"
     inkscape:window-maximized="1"
     inkscape:current-layer="svg1" />
  <path
     fill-rule="evenodd"
     clip-rule="evenodd"
     d="m 0.29289,0.29289 c 0.39053,-0.39052 1.02369,-0.39052 1.41422,0 L 7,5.5858 12.2929,0.29289 c 0.3905,-0.39052 1.0237,-0.39052 1.4142,0 0.3905,0.39053 0.3905,1.02369 0,1.41422 L 8.4142,7 l 5.2929,5.2929 c 0.3905,0.3905 0.3905,1.0237 0,1.4142 -0.3905,0.3905 -1.0237,0.3905 -1.4142,0 L 7,8.4142 1.70711,13.7071 c -0.39053,0.3905 -1.02369,0.3905 -1.41422,0 -0.39052,-0.3905 -0.39052,-1.0237 0,-1.4142 L 5.5858,7 0.29289,1.70711 c -0.39052,-0.39053 -0.39052,-1.02369 0,-1.41422 z"
     fill="#0F1729"
     id="path1"
     style="fill:#de4848;fill-opacity:1" />
</svg>
`,pr=`<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!-- Generator: Adobe Illustrator 22.0.1, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->

<svg
   version="1.1"
   id="_x35_0"
   x="0px"
   y="0px"
   viewBox="0 0 374.625 338.54297"
   xml:space="preserve"
   sodipodi:docname="icon_cart.svg"
   inkscape:version="1.4 (e7c3feb100, 2024-10-09)"
   width="374.625"
   height="338.54297"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:xlink="http://www.w3.org/1999/xlink"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg"><defs
   id="defs9"><linearGradient
     id="linearGradient15"
     inkscape:collect="always"><stop
       style="stop-color:#6568eb;stop-opacity:1;"
       offset="0"
       id="stop15" /><stop
       style="stop-color:#7139e9;stop-opacity:1;"
       offset="0.50012738"
       id="stop17" /><stop
       style="stop-color:#9416e9;stop-opacity:1;"
       offset="1"
       id="stop16" /></linearGradient><linearGradient
     inkscape:collect="always"
     xlink:href="#linearGradient15"
     id="linearGradient16"
     x1="112.51031"
     y1="135.43776"
     x2="399.48965"
     y2="376.24203"
     gradientUnits="userSpaceOnUse" /></defs><sodipodi:namedview
   id="namedview9"
   pagecolor="#ffffff"
   bordercolor="#000000"
   borderopacity="0.25"
   inkscape:showpageshadow="2"
   inkscape:pageopacity="0.0"
   inkscape:pagecheckerboard="0"
   inkscape:deskcolor="#d1d1d1"
   inkscape:zoom="0.78027344"
   inkscape:cx="18.583229"
   inkscape:cy="254.398"
   inkscape:window-width="1920"
   inkscape:window-height="1008"
   inkscape:window-x="0"
   inkscape:window-y="0"
   inkscape:window-maximized="1"
   inkscape:current-layer="path9" />
<linearGradient
   id="SVGID_1_"
   gradientUnits="userSpaceOnUse"
   x1="24.6903"
   y1="10.2765"
   x2="482.35349"
   y2="460.4465">
	
	
	
	
	
	
	<stop
   offset="0"
   style="stop-color:#5287dc;stop-opacity:1;"
   id="stop7" />
	<stop
   offset="0.45566216"
   style="stop-color:#8255d3;stop-opacity:1;"
   id="stop8" />
	<stop
   offset="1"
   style="stop-color:#a835c3;stop-opacity:1;"
   id="stop9" />
</linearGradient>
<g
   id="path9"
   transform="translate(-68.6875,-86.568359)"><path
     id="path10"
     style="fill:url(#linearGradient16)"
     d="m 414.74609,86.568359 c -3.04782,-2.1e-5 -6.09573,1.152377 -8.39843,3.455079 l -23.7793,23.779292 c -2.50695,2.50439 -2.50695,6.68898 0,9.19336 2.50364,2.50364 6.68994,2.50408 9.19336,-0.002 l 22.98242,-22.98437 4.95117,4.94921 -87.60547,87.60547 c -0.0235,0.0227 9.2e-4,-0.003 -0.0254,0.0234 l -0.45312,0.45508 -12.61328,12.61133 c -1.41689,-1.87757 -3.07876,-3.54287 -4.95703,-4.95899 l 60.11132,-61.11328 c 2.50629,-2.50372 2.50688,-6.68875 0.002,-9.19336 -2.50364,-2.50363 -6.68995,-2.50598 -9.19336,0 l -0.0117,0.0117 -59.28125,60.28125 h -37.78125 c -3.54175,0 -6.5,2.95825 -6.5,6.5 0,3.54175 2.95825,6.5 6.5,6.5 h 12.58008 c -4.16709,4.50137 -6.73633,10.49857 -6.73633,17.08203 0,6.58272 2.56769,12.57884 6.73437,17.08008 H 231.5313 c 4.16666,-4.50132 6.73438,-10.49707 6.73437,-17.08008 0,-6.58352 -2.56872,-12.58045 -6.73632,-17.08203 h 5.40625 c 3.54175,0 6.5,-2.95825 6.5,-6.5 0,-3.54175 -2.95825,-6.5 -6.5,-6.5 h -30.625 L 105.65234,90.025391 c -4.6039,-4.606906 -12.190716,-4.606564 -16.796871,-0.002 L 82.316406,96.5625 c -4.605098,4.6051 -4.605098,12.19178 0,16.79688 l 77.328124,77.32617 H 89.259766 c -11.30764,-0.001 -20.572266,9.26291 -20.572266,20.57031 v 19.01758 c 0,11.30769 9.265626,20.57226 20.572266,20.57226 h 6.123046 l 5.144528,44.95118 c 0.37485,3.27345 3.20095,5.75976 6.45508,5.75976 0.23535,0 0.48252,-0.012 0.73828,-0.041 h 0.004 l 0.004,-0.002 c 3.51744,-0.40536 6.11544,-3.67944 5.71289,-7.19726 l -4.97657,-43.47071 H 403.53143 L 386.58416,398.5195 c -0.89323,7.78495 -7.40681,13.5918 -15.24218,13.5918 h -27.19141 v -92.05078 c 0,-9.06216 -7.43784,-16.5 -16.5,-16.5 -9.06216,0 -16.5,7.43784 -16.5,16.5 V 412.1113 H 272.5 v -92.05078 c 0,-9.06216 -7.43784,-16.5 -16.5,-16.5 -9.06216,0 -16.5,7.43784 -16.5,16.5 v 92.05078 h -38.65039 v -92.05078 c 0,-9.06216 -7.43784,-16.5 -16.5,-16.5 -9.06216,0 -16.5,7.43784 -16.5,16.5 V 412.1113 H 140.6582 c -7.8351,0 -14.34899,-5.80799 -15.24218,-13.5918 l -8.73829,-76.1543 -0.002,-0.002 c -0.405,-3.51429 -3.67809,-6.10519 -7.18359,-5.71484 h -0.008 -0.008 c -3.51722,0.40534 -6.12031,3.68025 -5.71484,7.20117 l 8.74023,76.15234 c 1.63883,14.27902 13.78325,25.10938 28.15625,25.10938 h 33.69141 20 H 246 h 20 51.65039 20 33.69141 c 14.37279,0 26.51634,-10.8299 28.15625,-25.10938 l 17.11914,-149.1582 h 6.12304 c 11.30741,0 20.57227,-9.26486 20.57227,-20.57227 v -19.01562 c 0,-11.30769 -9.26563,-20.57227 -20.57227,-20.57227 h -70.38476 l 77.32617,-77.32812 c 4.6051,-4.6051 4.6051,-12.18982 0,-16.794923 l -6.53711,-6.537109 c -2.30233,-2.303078 -5.35062,-3.455057 -8.39844,-3.455079 z M 97.253906,100.00977 197.85156,200.60938 l 0.0977,0.0977 c -1.87428,1.4146 -3.53483,3.07681 -4.94922,4.95117 l -13.06836,-13.06836 v -0.002 L 92.304688,104.96094 Z M 339.35547,203.68359 h 83.38476 c 4.21165,0 7.57227,3.36063 7.57227,7.57227 v 19.01758 c 0,4.21164 -3.36062,7.57226 -7.57227,7.57226 H 317.41602 c 4.16665,-4.50132 6.73437,-10.49902 6.73437,-17.08203 0,-0.61498 -0.0976,-1.14795 -0.14453,-1.72851 z m -250.095704,0.002 h 83.386714 l 15.34766,15.34961 c -0.0472,0.58117 -0.14453,1.11369 -0.14453,1.73046 0,6.58277 2.56765,12.57884 6.73437,17.08008 H 89.259766 c -4.211643,0 -7.572266,-3.36062 -7.572266,-7.57226 v -19.01563 c 0,-4.21164 3.360623,-7.57226 7.572266,-7.57226 z m 123.798824,4.86914 c 6.76869,0 12.20899,5.4403 12.20899,12.20898 0,6.76869 -5.4403,12.20899 -12.20899,12.20899 -6.76868,0 -12.20898,-5.4403 -12.20898,-12.20899 0,-6.76744 5.4406,-12.20898 12.20898,-12.20898 z m 85.88282,0.002 c 6.76868,0 12.20898,5.44031 12.20898,12.20898 0,6.76869 -5.4403,12.20899 -12.20898,12.20899 -6.76839,0 -12.20899,-5.44154 -12.20899,-12.20899 0,-6.76867 5.4403,-12.20898 12.20899,-12.20898 z M 184.34961,316.5625 c 1.96708,0 3.5,1.53292 3.5,3.5 v 92.04883 h -7 V 320.0625 c 0,-1.96708 1.53292,-3.5 3.5,-3.5 z m 71.65039,0 c 1.96708,0 3.5,1.53292 3.5,3.5 v 92.04883 h -7 V 320.0625 c 0,-1.96708 1.53292,-3.5 3.5,-3.5 z m 71.65039,0 c 1.96708,0 3.5,1.53292 3.5,3.5 v 92.04883 h -7 V 320.0625 c 0,-1.96708 1.53292,-3.5 3.5,-3.5 z" /></g>
</svg>
`,gr=60*5,oe=new Map,be=e=>{e.productos=e.productos||[];for(const r of e.productos){r._stock=0;for(const o of r.Stock)r._stock+=o.c||0}e.categorias=e.categorias||[],e.categoriasMap=Se(e.categorias,"ID")},Me=e=>{const[r,o]=M({productos:[],categorias:[],categoriasMap:new Map,isFetching:!0,updated:-1});N(te(()=>[r()],async()=>{const c=r().productos;if(c.length===0)return;const f=await Ie();if(!f)return;const p=(await f.table("cache").get("cart"))?.productos||[],g=Se(c,"ID"),u=new Map;for(const w of p){const n=g.get(w.id);n&&(w.cant>n._stock&&(w.cant=n._stock),u.set(w.id,{cant:w.cant,producto:n}))}re(u)}));const s="productos_"+[0].join("_"),t=Math.floor(Date.now()/1e3),i=he.getItem(s);if(i){const c=JSON.parse(i);if(t-c.updated<gr)return console.log("enviando productos del caché::",c),be(c),o(c),[r]}if(Oe()){if(!oe.has(s)){const c=Ve("p-productos-cms")+`?empresa-id=${je.getEmpresaID()}`,f=new Headers;f.append("Authorization",`Bearer ${Ge(!0)}`),oe.set(s,new Promise((_,p)=>{fetch(c,{headers:f}).then(g=>g.json()).then(g=>{console.log("productos obtenidos desde servidor:",g),g.updated=t,_(g),g.productos?.length>0&&he.setItem(s,JSON.stringify(g))}).catch(g=>{p(g)})}))}oe.get(s).then(c=>{console.log("productos obtenidos promesa::",c),be(c),o(c)})}return[r]};var mr=x("<div><div class=w100>"),vr=x("<div>Obteniendo productos..."),fr=x('<div class="flex ai-center jc-center"><div></div><i class="icon-basket _icon mt-02"></i>'),hr=x('<div><i class="icon-attention _icon"></i><div></div><div>Stock Máximo = <span></span></div>'),br=x('<div class="p-rel flex-column ai-center"><div><div class=grow-1><div></div><div class="ff-bold h3">s/. </div></div>'),yr=x("<div>Agregar más <span>(<!>)"),wr=x("<div>Agregar"),kr=x('<div><div><div><img class></div><div><div class="h100 w100"></div><div><div class="ff-bold-italic mr-08">Ir a Pagar -</div><div class="ff-bold-italic mr-08">S/. '),Z=x("<div>"),$r=x('<div class="c-red h5 mt-02"><i class=icon-attention></i> '),xr=x('<div class="p-rel w100"><div><div></div><div><div></div><div><i class=icon-cancel></i></div><div>s./ </div><div><button>-</button><input type=number>'),Cr=x("<button>+"),Ir=x('<div><div class="flex h1 ff-semibold mb-08"></div><div class="flex w100"><div></div><div><div></div><div class="flex mt-12 ai-center"><div class=mr-06>Precio:</div><div class="ff-bold h1">s/. </div><div class=ml-auto></div><button><i class=icon-basket></i>Añadir a Carrito'),Sr=x('<div><div class="flex w100 p-rel"><div><div class="ff-bold h3">s/. </div><div><div class=ff-bold>Agregar</div><i class=icon-basket>'),Pr=x("<div class=_highlight>"),Dr=x("<img>"),zr=x("<div><div>"),Mr=x('<div class="p-rel flex jc-center"><div class="p-rel w100"><input type=text class=w100><i>'),Lr=x("<div class=w100>"),Tr=x('<div class="ff-bold p-rel h5 w100 mb-02">');function Er(e){const[r]=Me();return(()=>{var o=mr(),s=o.firstChild;return v(s,(()=>{var t=S(()=>!!r().isFetching);return()=>t()&&vr()})(),null),v(s,()=>(r().productos||[]).map(t=>{const i=S(()=>D().get(t.ID)?.cant||0);return(()=>{var c=br(),f=c.firstChild,_=f.firstChild,p=_.firstChild,g=p.nextSibling;return g.firstChild,c.$$click=u=>{u.stopPropagation(),Te(t)},v(c,(()=>{var u=S(()=>t.Images?.length>0);return()=>u()&&k(V,{get src(){return"img-productos/"+t.Images[0]?.n},size:2,get class(){return m.product_card_image+" w100"},types:["avif","webp"]})})(),f),v(p,()=>t.Nombre),v(g,()=>G(t.PrecioFinal/100,2),null),v(f,k(H,{get when(){return i()<t._stock},get children(){var u=fr(),w=u.firstChild,n=w.nextSibling;return u.$$click=d=>{d.stopPropagation(),Rr(t)},v(w,i),v(u,(()=>{var d=S(()=>!!(i()>0&&[1].includes(z())));return()=>d()?(()=>{var a=yr(),l=a.firstChild,h=l.nextSibling,C=h.firstChild,b=C.nextSibling;return b.nextSibling,v(h,i,b),I(()=>y(a,m.product_cart_bn_text)),a})():(()=>{var a=wr();return I(()=>y(a,m.product_cart_bn_text)),a})()})(),n),I(d=>{var a={[m.product_cart_button]:[1].includes(z()),[m.product_cart_button_mobile]:[2,3].includes(z())},l=m.product_cart_bn_cant;return d.e=E(u,a,d.e),l!==d.t&&y(w,d.t=l),d},{e:void 0,t:void 0}),u}}),null),v(f,k(H,{get when(){return i()>=t._stock},get children(){var u=hr(),w=u.firstChild,n=w.nextSibling,d=n.nextSibling,a=d.firstChild,l=a.nextSibling;return u.$$click=h=>{h.stopPropagation()},v(n,i),v(l,i),I(h=>{var C=`flex ai-center jc-center ${m.product_cart_button}`,b=m.product_cart_bn_cant,$=m.product_cart_bn_text;return C!==h.e&&y(u,h.e=C),b!==h.t&&y(n,h.t=b),$!==h.a&&y(d,h.a=$),h},{e:void 0,t:void 0,a:void 0}),u}}),null),I(u=>{var w={"has-products":i()>0,[m.product_card]:z()!==3,[m.product_card_mobile]:z()===3},n=`flex jc-start w100 mt-04 ${m.product_name_ctn}`;return u.e=E(c,w,u.e),n!==u.t&&y(f,u.t=n),u},{e:void 0,t:void 0}),c})()}),null),I(t=>{var i="w100 "+m.product_cuadrilla_ctn,c={[m.product_cuadrilla_ctn_mobile]:z()===3},f={[m.product_cuadrilla_mobile]:[3].includes(z()),"flex-wrap ai-baseline jc-center":[1,2].includes(z())};return i!==t.e&&y(o,t.e=i),t.t=E(o,c,t.t),t.a=E(s,f,t.a),t},{e:void 0,t:void 0,a:void 0}),o})()}const[D,re]=M(new Map),Rr=e=>{const r=D(),o=r.get(e.ID);o?o.cant++:r.set(e.ID,{producto:e,cant:1}),console.log("productos 1",r),re(new Map(r))},Fr=e=>{const[r,o]=M(0),s=S(()=>{let t=0;for(const i of D().values())t+=i.cant*i.producto.PrecioFinal;return t});return k(Ce,{get mount(){return document.body},get children(){return k(H,{get when(){return!W()},get children(){var t=kr(),i=t.firstChild,c=i.firstChild,f=c.firstChild,_=c.nextSibling,p=_.firstChild,g=p.nextSibling,u=g.firstChild,w=u.nextSibling;return w.firstChild,c.$$click=n=>{n.stopPropagation(),o(r()?0:1)},v(p,k(ue,{get each(){return Array.from(D().values())},children:n=>(console.log("rendering productos::",D()),k(Le,{get producto(){return n.producto},get cant(){return n.cant}}))})),g.$$click=n=>{n.stopPropagation(),le(!0),o(0),Q(2)},v(w,()=>G(s()/100,2),null),v(t,(()=>{var n=S(()=>D().size>0&&!r());return()=>n()&&(()=>{var d=Z();return v(d,()=>D().size),I(()=>y(d,`p-abs ff-semibold flex-center ${m.floating_cart_count}`)),d})()})(),null),I(n=>{var d=`p-rel flex-center ${m.floating_cart_ctn_ref}`,a=`p-rel h100 w100 ${m.floating_cart_ctn}`,l={[m.floating_cart_ctn_open]:r()===1},h=`flex-center p-rel ${m.floating_cart_btn}`,C=D().size>0,b=pe(r()?ur:pr),$=`p-rel ${m.floating_cart_content}`,L=`flex-center ${m.floating_cart_card}`;return d!==n.e&&y(t,n.e=d),a!==n.t&&y(i,n.t=a),n.a=E(i,l,n.a),h!==n.o&&y(c,n.o=h),C!==n.i&&c.classList.toggle("has-productos",n.i=C),b!==n.n&&ee(f,"src",n.n=b),$!==n.s&&y(_,n.s=$),L!==n.h&&y(g,n.h=L),n},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0}),t}})}})},[se,me]=M({id:0,msg:""}),J=()=>{se().id>0&&me({id:0,msg:""})};let ye=0;N(()=>{ye!==D().size&&(ye=D().size,me({id:0,msg:""}))});let we=!0;N(()=>{const e=D();we&&e.size===0||(we=!1,ge(async()=>{const r={key:"cart",productos:[...e.values()].map(s=>({id:s.producto.ID,cant:s.cant}))},o=await Ie();o&&o.table("cache").put(r)},500))});const Le=e=>{const r=S(()=>{if(se().id===e.producto.ID)return se().msg}),o=S(te(()=>[D()],()=>e.cant*e.producto.PrecioFinal)),s=S(te(()=>[D()],()=>e.cant)),t=i=>{if(i<=0)return;const c=D().get(e.producto.ID);c.cant=i,re(new Map(D()))};return(()=>{var i=xr(),c=i.firstChild,f=c.firstChild,_=f.nextSibling,p=_.firstChild,g=p.nextSibling,u=g.nextSibling;u.firstChild;var w=u.nextSibling,n=w.firstChild,d=n.nextSibling;return v(f,k(V,{get src(){return"img-productos/"+e.producto.Images[0]?.n},size:2,class:"h100 w100 object-cover",types:["avif","webp"]})),v(p,()=>e.producto.Nombre),g.$$click=a=>{a.stopPropagation(),J(),D().delete(e.producto.ID),re(new Map(D()))},v(u,()=>G(o()/100,2),null),n.$$click=a=>{a.stopPropagation(),t(e.cant-1),J()},d.addEventListener("change",a=>{let l=parseInt(a.target.value||"0");l>e.producto._stock?(l=e.producto._stock,a.target.value=l,me({id:e.producto.ID,msg:`El stock máximo es ${e.producto._stock}`}),t(l)):l>0?(t(l),J()):a.target.value=String(e.cant)}),v(w,(()=>{var a=S(()=>s()<e.producto._stock);return()=>a()&&(()=>{var l=Cr();return l.$$click=h=>{h.stopPropagation(),t(e.cant+1),J()},I(()=>y(l,`${m.producto_card_btn_cant}`)),l})()})(),null),v(i,k(H,{get when(){return!!r()},get children(){var a=$r(),l=a.firstChild;return l.nextSibling,v(a,r,null),a}}),null),I(a=>{var l=(e.mode||1)===1,h=(e.mode||1)===2,C=`flex w100 ${m.floating_producto_card} p-rel`,b=e.mode===2,$=`h100 ${m.floating_producto_card_img}`,L=`p-rel w100 flex-column ml-06 ${m.producto_card_ctn}`,R=`p-abs flex-center ${m.producto_card_btn_del}`,O=`p-abs h3 ff-semibold ${m.producto_card_price}`,F=`p-abs flex ai-center ff-semibold ${m.producto_card_btn_ctn}`,B=`${m.producto_card_btn_cant}`,ve=`mr-02 ml-02 ${m.producto_card_btn_input}`;return l!==a.e&&i.classList.toggle("mb-10",a.e=l),h!==a.t&&i.classList.toggle("mb-12",a.t=h),C!==a.a&&y(c,a.a=C),b!==a.o&&c.classList.toggle("s2",a.o=b),$!==a.i&&y(f,a.i=$),L!==a.n&&y(_,a.n=L),R!==a.s&&y(g,a.s=R),O!==a.h&&y(u,a.h=O),F!==a.r&&y(w,a.r=F),B!==a.d&&y(n,a.d=B),ve!==a.l&&y(d,a.l=ve),a},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0}),I(()=>d.value=s()),i})()},[U,Te]=M(null),Hr=e=>{let r;const{createZoomImage:o}=_r();return Re(()=>{console.log("div container::",r),o(r,{zoomFactor:2})}),k(Ce,{get mount(){return document.body},get children(){return[(()=>{var s=Z();return s.$$click=t=>{t.stopPropagation(),Te(null)},I(()=>y(s,`${m.producto_layer_bg}`)),s})(),(()=>{var s=Ir(),t=s.firstChild,i=t.nextSibling,c=i.firstChild,f=c.nextSibling,_=f.firstChild,p=_.nextSibling,g=p.firstChild,u=g.nextSibling;u.firstChild;var w=u.nextSibling,n=w.nextSibling;v(t,()=>U().Nombre),v(c,()=>U().Images.map(a=>(()=>{var l=Z();return v(l,k(V,{get src(){return"img-productos/"+a.n},size:2,class:"h100 w100 object-contain",types:["avif","webp"]})),I(()=>y(l,`p-rel ${m.producto_layer_img_min} mb-08`)),l})()));var d=r;return typeof d=="function"?X(d,_):r=_,v(_,k(V,{get src(){return"img-productos/"+U().Images[0]?.n},size:6,class:"h100 w100 object-contain",types:["avif","webp"]})),v(u,()=>G(U()?.PrecioFinal/100,2),null),I(a=>{var l=`${m.producto_layer_ctn}`,h=`p-rel ${m.producto_layer_img_ctn}`,C=`${m.producto_layer_content}`,b=`p-rel w100 ${m.producto_layer_img1}`,$=`${m.producto_cart_btn}`;return l!==a.e&&y(s,a.e=l),h!==a.t&&y(c,a.t=h),C!==a.a&&y(f,a.a=C),b!==a.o&&y(_,a.o=b),$!==a.i&&y(n,a.i=$),a},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),s})()]}})},Or=e=>{const r=S(()=>[3].includes(z()));return(()=>{var o=Sr(),s=o.firstChild,t=s.firstChild,i=t.firstChild;i.firstChild;var c=i.nextSibling,f=c.firstChild;return v(s,k(V,{get src(){return"img-productos/"+e.producto.Images[0]?.n},size:2,get class(){return m.producto_filter_card_image+" w100"},types:["avif","webp"]}),t),v(t,(()=>{var _=S(()=>!r());return()=>_()&&(()=>{var p=Pr();return v(p,()=>fe(e.producto.Nombre,e.searchText||[])),p})()})(),i),v(i,()=>G(e.producto.PrecioFinal/100,2),null),v(o,(()=>{var _=S(()=>!!r());return()=>_()&&(()=>{var p=Z();return v(p,()=>fe(e.producto.Nombre,e.searchText||[])),I(()=>y(p,`_highlight ${m.producto_filter_mobile_text}`)),p})()})(),null),I(_=>{var p=`${m.producto_filter_card} p-rel`,g={[m.is_mobile]:r()},u=!!r(),w=`flex ai-center jc-center ${m.producto_filter_button}`,n=!r();return p!==_.e&&y(o,_.e=p),_.t=E(o,g,_.t),u!==_.a&&i.classList.toggle("mt-08",_.a=u),w!==_.o&&y(c,_.o=w),n!==_.i&&f.classList.toggle("mt-02",_.i=n),_},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),o})()},ke=e=>{const[r]=Me(),[o,s]=M([]),[t,i]=M(!1),[c,f]=M([]),_=p=>{const g=p.split(" ").map(l=>l.trim().toLowerCase()).filter(l=>l.length>1),u=[],w=r(),n=g.length>0;t()!==n&&i(n);for(const l of w.productos)if(Ae(l.Nombre.toLowerCase(),g)&&(u.push(l),u.length>=24))return;const d=new Map;for(const l of u){const h=l.CategoriasIDs?.length>0?l.CategoriasIDs[0]:-1;d.has(h)?d.get(h).push(l):d.set(h,[l])}const a=[];for(const[l,h]of d){const C=w.categoriasMap.get(l)?.Nombre||"";a.push({categoria:C,productos:h})}a.sort((l,h)=>l.categoria?l.productos.length>h.productos.length?-1:1:-1),console.log("categoría productos::",a),s(a),f(g)};return(()=>{var p=Mr(),g=p.firstChild,u=g.firstChild,w=u.nextSibling;return u.addEventListener("blur",n=>{n.stopPropagation()}),u.addEventListener("focus",n=>{n.stopPropagation()}),u.$$keydown=n=>{n.stopPropagation(),ge(()=>{_(n.target.value)},250)},v(p,k(H,{get when(){return t()},get children(){return[(()=>{var n=Dr();return I(d=>{var a=`p-abs ${m.productos_search_layer_angle}`,l=pe(De);return a!==d.e&&y(n,d.e=a),l!==d.t&&ee(n,"src",d.t=l),d},{e:void 0,t:void 0}),n})(),(()=>{var n=zr(),d=n.firstChild;return v(d,()=>o().map(a=>(()=>{var l=Z();return v(l,()=>a.productos.map((h,C)=>(()=>{var b=Lr();return v(b,C===0&&(()=>{var $=Tr();return $.style.setProperty("overflow","hidden"),v($,()=>a.categoria.toUpperCase()),$})(),null),v(b,k(Or,{producto:h,get searchText(){return c()}}),null),b})())),l})())),I(a=>{var l=`p-abs ${m.productos_search_layer}`,h={[m.productos_search_layer_mobile]:[3].includes(z())},C="w100 "+m.producto_filter_container,b={[m.is_mobile]:[3].includes(z())};return l!==a.e&&y(n,a.e=l),a.t=E(n,h,a.t),C!==a.a&&y(d,a.a=C),a.o=E(d,b,a.o),a},{e:void 0,t:void 0,a:void 0,o:void 0}),n})()]}}),null),I(n=>{var d={[m.productos_search_bar_cnt]:[1].includes(z()),[m.productos_search_bar_mobile_cont]:[2,3].includes(z())},a={[m.productos_search_input]:[1,2].includes(z()),[m.productos_search_input_mobile]:[3].includes(z())},l=[1,2].includes(z())?"Busca productos...":"Buscar..",h="icon-search "+m.productos_search_icon;return n.e=E(p,d,n.e),n.t=E(u,a,n.t),l!==n.a&&ee(u,"placeholder",n.a=l),h!==n.o&&y(w,n.o=h),n},{e:void 0,t:void 0,a:void 0,o:void 0}),p})()};_e(["click","keydown"]);let ae;const jr=()=>{const[e,r]=M(null),o=t=>{const i={departamentos:[],provincias:[],distritos:[],ciudadHijosMap:new Map,ciudadesMap:new Map};for(const c of t)i.ciudadesMap.set(c.ID,c),c.ID.length===6?i.distritos.push(c):c.ID.length===4?i.provincias.push(c):c.ID.length===2&&i.departamentos.push(c),c.PadreID&&(i.ciudadHijosMap.has(c.PadreID)?i.ciudadHijosMap.get(c.PadreID).push(c):i.ciudadHijosMap.set(c.PadreID,[c]));return i},s="./assets/peru_ciudades.json";return ae||(ae=new Promise((t,i)=>{fetch(s).then(c=>c.json()).then(c=>{console.log("ciudades obtenidas::",c);const f=o(c);t(f)}).catch(c=>{i(c)})})),ae.then(t=>{r(t)}),[e]},Gr=e=>{const[r]=jr(),[o,s]=M({departamentoID:"",distritoID:"",provinciaID:""}),[t,i]=M(!0),[c,f]=M([]),[_,p]=M([]),[g,u]=M([]);N(()=>{if(r()&&(i(!1),f(r().departamentos),e.save&&e.saveOn)){const n=r().ciudadesMap.get(e.saveOn[e.save]);if(console.log("ciudad::",n),n){const d=o();if(n.ID.length===2)d.departamentoID=n.ID;else if(n.ID.length===4)d.departamentoID=n.PadreID,d.provinciaID=n.ID;else{const a=r().ciudadesMap.get(n.PadreID);d.departamentoID=a.PadreID,d.provinciaID=n.PadreID,d.distritoID=n.ID}d.departamentoID&&p(r().ciudadHijosMap.get(d.departamentoID)),d.provinciaID&&u(r().ciudadHijosMap.get(d.provinciaID))}console.log("ciudades save on::",e.saveOn,o())}});const w=()=>{if(!e.saveOn||!e.save)return;const n=o().distritoID||o().provinciaID||o().departamentoID||"";e.saveOn[e.save]=n,e.onChange&&e.onChange()};return[k(ne,{label:"Departamento",keys:"ID.Nombre",get options(){return c()},required:!0,get saveOn(){return o()},save:"departamentoID",get css(){return(e.css||[])[0]||""},get showLoading(){return t()},onChange:n=>{console.log("departamento::",n),o().distritoID=null,o().provinciaID=null,p(r().ciudadHijosMap.get(n.ID)),u([]),w()}}),k(ne,{label:"Provincia",keys:"ID.Nombre",required:!0,get options(){return _()},get disabled(){return _().length===0},get saveOn(){return o()},save:"provinciaID",get css(){return(e.css||[])[0]||""},get showLoading(){return t()},onChange:n=>{o().distritoID=null,u(r().ciudadHijosMap.get(n.ID)),w()}}),k(ne,{label:"Distrito",keys:"ID.Nombre",required:!0,get saveOn(){return o()},save:"distritoID",get options(){return g()},get disabled(){return g().length===0},get css(){return(e.css||[])[0]||""},get showLoading(){return t()},onChange:()=>{w()}})]};var Ar=x('<div class="w100 flex mb-08"><div class="ff-bold-italic fs20">Total a pagar:</div><div class="ml-04 ff-bold fs20 c-blue">s/. </div><div class=mr-auto></div><button>Continuar <i class=icon-right>'),Nr=x('<div class="h100 w100 grid">'),Vr=x('<div class="w100 flex mb-08"><div class="ff-bold-italic fs20">Total a pagar:</div><div class="ml-04 ff-bold fs20 c-blue">s/. </div><div class=mr-auto></div><button>Relizar Pago <i class=icon-right>'),Br=x('<div class="flex-wrap w100-10">'),qr=x('<div class=w100><div class="w100 mt-08">'),Ur=x("<span>Datos de <br>Envío"),Wr=x("<span>Confirmación"),Zr=x('<div class="flex ai-center mt-01 ff-semibold"><i></i><div class=mr-08>');const[ce,Q]=M(1),[j,Yr]=M({}),$e={},A=()=>{ge(async()=>{const e=j(),r=[];for(const o of Object.keys(e)){const s=$e[o]||"",t=e[o]||"";s!==t&&($e[o]=t,r.push({formID:1,key:o,value:t}))}r.length>0&&(await Pe("forms")).bulkPut(r)},500)},Jr=e=>{const r=S(()=>{let o=0;for(const s of D().values())o+=s.cant*s.producto.PrecioFinal;return o});return Pe("forms").then(o=>{o.where({formID:1}).toArray().then(s=>{const t={};for(const i of s)t[i.key]=i.value;Yr(t)})}),(()=>{var o=qr(),s=o.firstChild;return o.style.setProperty("padding","8px"),v(o,k(He,{get selected(){return ce()},options:[{id:1,name:"Carrito",icon:"icon-basket"},{id:2,name:"Datos de Envío",icon:"icon-doc-inv-alt"},{id:3,name:"Pago",icon:"icon-shield"},{id:4,name:"Confirmación",icon:"icon-ok"}],onSelect:t=>{Q(t.id)},optionRender:t=>{let i=t.name;return t.id===2?i=Ur():t.id===4&&(i=Wr()),(()=>{var c=Zr(),f=c.firstChild,_=f.nextSibling;return f.style.setProperty("margin-left","-6px"),_.style.setProperty("line-height","1.1"),_.style.setProperty("text-align","left"),v(_,i),I(()=>y(f,`h3 ${t.icon} mr-02`)),c})()}}),s),v(o,k(H,{get when(){return ce()===1},get children(){return[(()=>{var t=Ar(),i=t.firstChild,c=i.nextSibling;c.firstChild;var f=c.nextSibling,_=f.nextSibling;return v(c,()=>G(r()/100,2),null),_.$$click=p=>{p.stopPropagation(),Q(2)},I(()=>y(_,`mr-20 ${m.cart_button_1}`)),t})(),(()=>{var t=Nr();return t.style.setProperty("grid-template-columns","1fr 1fr"),t.style.setProperty("column-gap","12px"),v(t,k(ue,{get each(){return Array.from(D().values())},children:i=>(console.log("rendering productos::",D()),k(Le,{get producto(){return i.producto},get cant(){return i.cant},mode:2}))})),t})()]}}),null),v(o,k(H,{get when(){return ce()===2},get children(){return[(()=>{var t=Vr(),i=t.firstChild,c=i.nextSibling;c.firstChild;var f=c.nextSibling,_=f.nextSibling;return v(c,()=>G(r()/100,2),null),_.$$click=p=>{p.stopPropagation(),Q(3)},I(()=>y(_,`mr-20 ${m.cart_button_1}`)),t})(),(()=>{var t=Br();return v(t,k(q,{label:"Nombres",get saveOn(){return j()},save:"nombres",css:"w-12x mb-10",required:!0,onChange:()=>A()}),null),v(t,k(q,{label:"Apellidos",get saveOn(){return j()},save:"apellidos",css:"w-12x mb-10",required:!0,onChange:()=>A()}),null),v(t,k(q,{label:"Correo Electrónico",get saveOn(){return j()},save:"email",css:"w-12x mb-10",required:!0,onChange:()=>A()}),null),v(t,k(Gr,{css:["w-12x mb-10","w-12x mb-10","w-12x mb-10"],get saveOn(){return j()},save:"ciudadID",onChange:()=>A()}),null),v(t,k(q,{label:"Dirección",get saveOn(){return j()},save:"direccion",css:"w-24x mb-10",required:!0,onChange:()=>A()}),null),v(t,k(q,{label:"Referencia",get saveOn(){return j()},save:"referencia",css:"w-24x mb-10",onChange:()=>A()}),null),t})()]}}),null),o})()};_e(["click"]);var Xr=x('<div class="header1-menu1 flex"><div class="flex ai-center jc-between w100"><div></div><div>'),Kr=x('<div class="header1-menu2 flex jc-between ai-center w100"><div></div><div class="flex p-rel h100 ai-center"><div><div><i class=icon-basket></i>Carrito</div></div><div class="p-rel flex h4 ai-center mt-04 ml-08 mr-08"><i class=icon-user></i>Usuario'),Qr=x("<div><img>"),en=x("<div><div><i class=icon-menu></i></div><div><i class=icon-basket>");const[W,le]=M(!1);function tn(e){let r,o,s=0,t;const i=Ne(),c=()=>{if(!r||!o)return;s=r.getBoundingClientRect().height,t=0;let g=o;for(;g;)t+=o.offsetTop,g=g.offsetParent;i.innerHeight},f=()=>{if(!o)return;(typeof t!="number"||!s)&&c();let g=i.scrollY-15;console.log("haciendo scroll",s,i.scrollY),i.scrollY>s+8?o.classList.add("menu-on"):g<t&&o.classList.remove("menu-on")};i.addEventListener("scroll",f),i.addEventListener("resize",f),N(()=>{f()}),N(()=>{console.log(e.args)});let _;const p=S(te(()=>[W()],()=>{if(!_)return{};const g=_.parentElement.getBoundingClientRect(),u=document.body.offsetWidth-g.right,w=Math.floor(u+g.width/2);return{right:u,angleRight:w}}));return[S(()=>S(()=>!![1].includes(z()))()&&(()=>{var g=Xr(),u=g.firstChild,w=u.firstChild,n=w.nextSibling,d=r;return typeof d=="function"?X(d,g):r=g,v(w,()=>e.args.Title),v(n,()=>e.args.Subtitle),g})()),S(()=>S(()=>!![1].includes(z()))()&&(()=>{var g=Kr(),u=g.firstChild,w=u.nextSibling,n=w.firstChild,d=n.firstChild,a=o;typeof a=="function"?X(a,g):o=g,u.style.setProperty("min-width","10rem"),v(g,k(ke,{}),w),d.$$click=h=>{h.stopPropagation(),W()?le(!1):le(!0)};var l=_;return typeof l=="function"?X(l,d):_=d,v(n,(()=>{var h=S(()=>!!W());return()=>h()&&(()=>{var C=Qr(),b=C.firstChild;return v(C,k(Jr,{}),null),I($=>{var L=`${m.menu_cart_layer}`,R=`calc(1.2rem - ${p().right}px)`,O=`p-abs ${m.menu_cart_layer_angle}`,F=`calc(${p().angleRight}px - 1.2rem - 16px)`,B=pe(De);return L!==$.e&&y(C,$.e=L),R!==$.t&&(($.t=R)!=null?C.style.setProperty("right",R):C.style.removeProperty("right")),O!==$.a&&y(b,$.a=O),F!==$.o&&(($.o=F)!=null?b.style.setProperty("right",F):b.style.removeProperty("right")),B!==$.i&&ee(b,"src",$.i=B),$},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),C})()})(),null),I(h=>{var C=`p-rel h100 flex ai-center jc-center ml-08 mr-08 ${m.menu_cart_layer_btn_ctn}`,b=`p-rel flex-center w100 h4 mt-02 ${m.menu_cart_layer_btn}`,$={[m.menu_cart_layer_btn_selected]:!!W()};return C!==h.e&&y(n,h.e=C),b!==h.t&&y(d,h.t=b),h.a=E(d,$,h.a),h},{e:void 0,t:void 0,a:void 0}),g})()),S(()=>S(()=>![1].includes(z()))()&&(()=>{var g=en(),u=g.firstChild,w=u.nextSibling;return v(g,k(ke,{}),w),I(n=>{var d=`${m.top_bar_mobile} flex ai-center mr-08`,a=m.top_bar_mobile_icon,l=`ml-auto ${m.top_bar_mobile_icon}`;return d!==n.e&&y(g,n.e=d),a!==n.t&&y(u,n.t=a),l!==n.a&&y(w,n.a=l),n},{e:void 0,t:void 0,a:void 0}),g})())]}_e(["click"]);class P{constructor(r,o,s,t){this.id=r,this.type=s,this.name=o,this.key=t}id;type;name;key;content;as=r=>new P(this.id,r,this.type,this.key)}const de={Title:new P(1,"Título",1),Subtitle:new P(2,"Subtítulo",1),Content:new P(3,"Contenido",2),ContentArray:new P(4,"Contenidos",3),BackgroundImage:new P(5,"Image de Fondo",5),Content_1:new P(11,"Contenido 1",2),Content_2:new P(12,"Contenido 2",2),Content_3:new P(13,"Contenido 3",2),Image:new P(15,"Imágen",5),ImagesGalery:new P(16,"Imágenes (Galería)",7),Categorias:new P(13,"Productos Categorías",8),ColumnsCant:new P(31,"Nº Columnas",2),RowsCant:new P(32,"Nº Filas",2),Check_1:new P(41,"Check 1",4),Check_2:new P(42,"Check 2",4),Check_3:new P(43,"Check 3",4),Check_4:new P(44,"Check 4",4),Check_5:new P(45,"Check 5",4)};for(const e in de)de[e].key=e;const rn="_cms_editable_card_eq22u_1",nn="_cms_card_button_up_eq22u_8",on="_cms_card_button_down_eq22u_8",ie={cms_editable_card:rn,cms_card_button_up:nn,cms_card_button_down:on};var an=x("<div>"),cn=x('<div><div><i class="icon-plus h6"></i>Sección</div><div><i class="icon-plus h6"></i>Sección');const T=de,sn=[{type:1,name:"Basic Section",render:e=>k(Qe,{get args(){return e.args}}),params:[T.Title,T.Subtitle,T.Content]},{type:10,name:"Header 1",render:e=>k(tn,{get args(){return e.args}}),params:[T.Title,T.Subtitle,T.Content]},{type:21,name:"Layer Image 21",render:e=>k(Ke,{get args(){return e.args}}),params:[T.Title,T.Subtitle,T.Content,T.Image]},{type:41,name:"Productos Cuadrilla",render:e=>k(Er,{get args(){return e.args}}),params:[T.Content]},{type:9998,name:"Demo 1",render:e=>k(Xe,{get args(){return e.args}}),params:[]},{type:9999,name:"Big Scroll",render:e=>k(Je,{get args(){return e.args}}),params:[]}],xe=e=>{for(const r of sn)if(e.type===r.type)return r.render(e);return an()};function hn(e){return[k(ue,{get each(){return e.sections},children:r=>e.isEditable?(()=>{var o=cn(),s=o.firstChild,t=s.nextSibling;return v(o,k(xe,{args:r,get type(){return r.type}}),t),I(i=>{var c=`p-rel w100 ${ie.cms_editable_card}`,f=`flex ai-center p-abs ff-bold ${ie.cms_card_button_up}`,_=`flex ai-center p-abs ff-bold ${ie.cms_card_button_down}`;return c!==i.e&&y(o,i.e=c),f!==i.t&&y(s,i.t=f),_!==i.a&&y(t,i.a=_),i},{e:void 0,t:void 0,a:void 0}),o})():k(xe,{args:r,get type(){return r.type}})}),k(Fr,{}),k(H,{get when(){return!!U()},get children(){return k(Hr,{})}})]}export{xe as PageSectionRenderer,sn as componentsRenders,hn as default};
