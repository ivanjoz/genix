var e={},s=!1;function l(...a){var t=a.join(" ");console.error(t)}function o(...a){var t=a.join(" ");postMessage({cmd:"alert",text:t,threadId:e._pthread_self()})}var i=l;self.alert=o;e.instantiateWasm=(a,t)=>{var r=e.wasmModule;e.wasmModule=null;var d=new WebAssembly.Instance(r,a);return t(d)};self.onunhandledrejection=a=>{throw a.reason||a};function n(a){try{if(a.data.cmd==="load"){let t=[];self.onmessage=r=>t.push(r),self.startWorker=r=>{e=r,postMessage({cmd:"loaded"});for(let d of t)n(d);self.onmessage=n},e.wasmModule=a.data.wasmModule;for(const r of a.data.handlers)e[r]=(...d)=>{postMessage({cmd:"callHandler",handler:r,args:d})};e.wasmMemory=a.data.wasmMemory,e.buffer=e.wasmMemory.buffer,e.ENVIRONMENT_IS_PTHREAD=!0,(a.data.urlOrBlob?import(a.data.urlOrBlob):import("./chunks/CUd2tXsa.js")).then(r=>r.default(e))}else if(a.data.cmd==="run"){e.__emscripten_thread_init(a.data.pthread_ptr,0,0,1),e.__emscripten_thread_mailbox_await(a.data.pthread_ptr),e.establishStackSpace(),e.PThread.receiveObjectTransfer(a.data),e.PThread.threadInitTLS(),s||(e.__embind_initialize_bindings(),s=!0);try{e.invokeEntryPoint(a.data.start_routine,a.data.arg)}catch(t){if(t!="unwind")throw t}}else a.data.cmd==="cancel"?e._pthread_self()&&e.__emscripten_thread_exit(-1):a.data.target==="setimmediate"||(a.data.cmd==="checkMailbox"?s&&e.checkMailbox():a.data.cmd&&(i(`worker.js received unknown command ${a.data.cmd}`),i(a.data)))}catch(t){throw e.__emscripten_thread_crashed?.(),t}}self.onmessage=n;
