import"./DsnmJJEf.js";import{p as te,e as k,g as ie,l as I,h as c,i as s,D as ae,f as m,a as re,s as v,b as y,d as se,c as l,r as d,t as C,u as P}from"./Bf0lWsRu.js";import{s as W}from"./WwA8pLij.js";import{s as j}from"./Csa_d837.js";import{i as _}from"./D7jGWfSg.js";import{a as ne,b as p}from"./BWVkWQLM.js";import{s as L}from"./C7iUW-It.js";import{d as oe}from"./Cu2BEfFs.js";import{b as le}from"./CPRIj_W5.js";import{p as de}from"./DEnCy23-.js";import{C as i,E as M}from"./CUNP7WoD.js";import{O as ce}from"./Ce7DcdGj.js";var ve=m('<button class="bx-red mr-10 lh-10" aria-label="Eliminar"><i class="icon-trash"></i></button>'),fe=m('<button class="bx-blue mr-10 lh-10" aria-label="Guardar"><i></i> <span class="_11 Layer_1wquv6i"> </span></button>'),ue=m('<div><div class="flex items-center justify-between"><div> </div> <div class="shrink-0 flex items-center mb-2"><!> <!> <button class="bx-yellow" title="close"><i class="icon-cancel"></i></button></div></div> <!> <div><!></div></div>'),ye=m('<div class="w-page"><!></div>'),_e=m("<!> <!>",1);function Oe(N,e){te(e,!0);let T,f=k(ie(i.showSideLayer)),S=k(!1),h=k(!1),q=de(e,"selected",15);const x=P(()=>M.sideLayerSize?M.sideLayerSize+"px":""),A=P(()=>i.showSideLayer>0&&i.deviceType!==3?`calc(var(--page-width) - ${s(x)||"0"} - 8px)`:void 0),F=()=>{i.openSideLayer(0)};I(()=>{if(e.type!=="side"||i.deviceType!==3){c(f,i.showSideLayer,!0);return}if(s(f)!==i.showSideLayer){const r=i.showSideLayer===e.id;if(r&&typeof document.startViewTransition=="function"){if(s(f)!==0){const o=document.querySelector(`[data-layer-id="${s(f)}"]`);o&&o.style.setProperty("view-transition-name","")}document.startViewTransition(async()=>{c(S,!0),c(h,!0),await ae()}).finished.finally(()=>{c(S,!1)})}else r?c(h,!0):s(f)===e.id&&c(h,!1);c(f,i.showSideLayer,!0)}}),I(()=>{(i.showSideLayer||e.type)&&console.log("updated 122:",i.showSideLayer,e.type,"| open:",i.showSideLayer===e.id)});var O=_e(),D=re(O);{var H=r=>{var a=ue();let o;var u=l(a),w=l(u),Q=l(w,!0);d(w);var E=v(w,2),G=l(E);{var R=t=>{var n=ve();n.__click=function(...b){e.onDelete?.apply(this,b)},y(t,n)};_(G,t=>{e.onDelete&&t(R)})}var V=v(G,2);{var U=t=>{var n=fe();n.__click=function(...ee){e.onSave?.apply(this,ee)};var b=l(n),B=v(b,2),$=l(B,!0);d(B),d(n),C(()=>{L(b,1,e.saveButtonIcon||"icon-floppy","Layer_1wquv6i"),W($,e.saveButtonName||"Guardar")}),y(t,n)};_(V,t=>{e.onSave&&t(U)})}var X=v(V,2);X.__click=t=>{t.stopPropagation(),F(),e.onClose&&(i.deviceType===3?setTimeout(()=>{e.onClose()},300):e.onClose())},d(E),d(u);var z=v(u,2);{var Y=t=>{ce(t,{get options(){return e.options},get selected(){return q()},useMobileGrid:!0,onSelect:n=>{q(n[0])},css:"mt-2"})};_(z,t=>{(e.options||[]).length>0&&t(Y)})}var g=v(z,2),Z=l(g);j(Z,()=>e.children),d(g),d(a),le(a,t=>T=t,()=>T),C(()=>{o=L(a,1,`flex flex-col w-800 ${(e.css||"")??""}`,"Layer_1wquv6i",o,{_8:e.contentOverflow,_1:e.type==="side",_2:e.type==="bottom","in-transition":s(S),visible:s(h)}),ne(a,"data-layer-id",e.id),p(a,s(x)?`width: ${s(x)};`:""),L(w,1,`overflow-hidden text-nowrap mr-8 ${e.titleCss??""}`,"Layer_1wquv6i"),W(Q,e.title),L(g,1,`_4 grow-1 ${e.contentCss??""}`,"Layer_1wquv6i")}),y(r,a)};_(D,r=>{i.showSideLayer===e.id&&(e.type==="side"||e.type==="bottom")&&r(H)})}var J=v(D,2);{var K=r=>{var a=ye();let o;var u=l(a);j(u,()=>e.children),d(a),C(()=>o=p(a,"",o,{width:s(A)})),y(r,a)};_(J,r=>{e.type=="content"&&r(K)})}y(N,O),se()}oe(["click"]);export{Oe as L};
