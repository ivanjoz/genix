import{t as C,i as _,d as ge,c as w,a as T,b as U,P as Ee,u as ee}from"./web-B9EQUxsk.js";import{c as k,d as S,b as I,g as Ae,a as L,e as W,f as ce,S as F,F as fe,o as Ve}from"./solid-DoXAfIeo.js";import{c as qe,i as J,e as N,d as R,h as ke,S as le,f as Ue}from"./app-9rYrrEH8.js";import{I as Z}from"./Uploaders-BwtOAD5t.js";import{q as Oe,e as Fe,r as Ce,I as We,E as B,g as Ze,b as V,u as te,t as he,h as Ye,v as He,w as Je}from"./main-CbQ9Ia1e.js";import{a as Xe}from"./http-zIS_ecGQ.js";import{c as Ke}from"./store-DHPf-lLy.js";import{I as X}from"./Input-WQV4cKAU.js";import"./main-BW8i8U5f.js";var Qe=C("<div class=w100>"),et=C("<div class=w100><h2>title ---------</h2><h2>hola mundo"),tt=C('<div class="layer-im1 w100">'),rt=C('<div class="w100 h100">'),ot=C("<div class=w100><div><h1></h1></div><div>");function nt(e){return(()=>{var o=Qe();return o.style.setProperty("height","160vh"),o})()}function at(e){return(()=>{var o=et();return o.style.setProperty("height","80px"),o})()}function ct(e){return(()=>{var o=tt();return _(o,k(qe,{offsetTop:0,get keyUpdated(){return e.args.Image||"_"},get children(){return S(()=>!!e.args.Image)()?k(Z,{size:8,get src(){return`img-galeria/${e.args.Image}`},class:"w100",style:{height:"auto"},types:["avif","webp"]}):rt()}})),I(a=>(a=e.args.marginTop)!=null?o.style.setProperty("margin-top",a):o.style.removeProperty("margin-top")),o})()}function it(e){return(()=>{var o=ot(),a=o.firstChild,h=a.firstChild,t=a.nextSibling;return o.style.setProperty("height","12rem"),_(h,()=>e.args.Title),_(t,()=>e.args.Content),o})()}const ie=`<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!-- Uploaded to: SVG Repo, www.svgrepo.com, Generator: SVG Repo Mixer Tools -->

<svg
   width="600"
   height="374.46808"
   viewBox="0 0 18 11.234042"
   version="1.1"
   id="svg1"
   sodipodi:docname="angle.svg"
   inkscape:version="1.4 (e7c3feb100, 2024-10-09)"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:dc="http://purl.org/dc/elements/1.1/">
  <defs
     id="defs1" />
  <sodipodi:namedview
     id="namedview1"
     pagecolor="#ffffff"
     bordercolor="#000000"
     borderopacity="0.25"
     inkscape:showpageshadow="2"
     inkscape:pageopacity="0.0"
     inkscape:pagecheckerboard="0"
     inkscape:deskcolor="#d1d1d1"
     inkscape:zoom="0.499375"
     inkscape:cx="-53.066333"
     inkscape:cy="163.20401"
     inkscape:window-width="1920"
     inkscape:window-height="1008"
     inkscape:window-x="0"
     inkscape:window-y="0"
     inkscape:window-maximized="1"
     inkscape:current-layer="svg1" />
  <title
     id="title1">triangle_fill</title>
  <rect
     style="fill:none;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:0;stroke-dasharray:none;stroke-opacity:0.403546"
     id="rect1"
     width="18"
     height="11.234042"
     x="0"
     y="0" />
  <g
     id="Shape"
     transform="translate(-287.99968,-54.679037)"
     style="fill:none;fill-rule:evenodd;stroke:none;stroke-width:1">
    <g
       id="triangle_fill"
       transform="translate(288,48)">
      <path
         d="M 24,0 V 24 H 0 V 0 Z m -11.40651,23.257841 -0.01155,0.0017 -0.07106,0.03553 -0.019,0.0037 v 0 l -0.01516,-0.0037 -0.07106,-0.03553 c -0.0098,-0.0031 -0.01861,-4.89e-4 -0.02351,0.0054 l -0.0041,0.01092 -0.01709,0.427279 0.005,0.02039 0.01101,0.01222 0.103573,0.07398 0.01487,0.0039 v 0 l 0.01177,-0.0039 0.103575,-0.07398 0.0126,-0.01604 v 0 l 0.0034,-0.01656 -0.01709,-0.427279 c -0.002,-0.01013 -0.0085,-0.01653 -0.01607,-0.01799 z m 0.264901,-0.112555 -0.01384,0.002 -0.184705,0.09235 -0.01,0.01024 v 0 l -0.0027,0.01121 0.0179,0.429528 0.0048,0.01278 v 0 l 0.0085,0.0071 0.200954,0.09275 c 0.01209,0.0037 0.02289,-2.52e-4 0.02849,-0.008 l 0.004,-0.01406 -0.03415,-0.614631 c -0.0024,-0.01194 -0.01027,-0.01953 -0.01929,-0.02125 z m -0.715344,0.002 c -0.0098,-0.0049 -0.02087,-0.002 -0.02741,0.0053 l -0.0057,0.01394 -0.03415,0.614631 c -6.39e-4,0.0115 0.007,0.0207 0.01688,0.0234 l 0.01561,-0.0013 0.200955,-0.09275 0.0094,-0.0081 v 0 l 0.0039,-0.0118 0.0179,-0.429528 -0.0032,-0.01259 v 0 l -0.0095,-0.0089 z"
         id="MingCute"
         fill-rule="nonzero" />
    </g>
  </g>
  <path
     d="m 7.9808726,1.6044182 c 0.4529693,-0.6776268 1.5853115,-0.67763372 2.0382024,-6.6e-6 l 6.77335,10.1335664 c 0.452888,0.677626 -0.113204,1.524658 -1.019062,1.524658 H 2.2266722 c -0.9058589,0 -1.47202265,-0.847032 -1.0190932,-1.524658 z"
     id="路径"
     fill="#09244b"
     style="fill:#ffffff;fill-rule:evenodd;stroke:#000000;stroke-width:2.13410997;stroke-linecap:square;stroke-linejoin:miter;stroke-dasharray:none;stroke-opacity:0.34;paint-order:stroke fill markers" />
  <metadata
     id="metadata2">
    <rdf:RDF>
      <cc:Work
         rdf:about="">
        <dc:title>triangle_fill</dc:title>
      </cc:Work>
    </rdf:RDF>
  </metadata>
</svg>
`,st="_product_cuadrilla_ctn_h1w5a_3",lt="_product_cuadrilla_ctn_mobile_h1w5a_9",dt="_product_cuadrilla_mobile_h1w5a_17",_t="_product_card_h1w5a_23",ut="_product_card_mobile_h1w5a_23",pt="_product_card_image_h1w5a_43",mt="_product_name_ctn_h1w5a_52",vt="_product_cart_button_h1w5a_68",gt="_product_cart_button_mobile_h1w5a_83",ft="_product_cart_bn_text_h1w5a_112",ht="_product_cart_bn_cant_h1w5a_141",bt="_floating_cart_ctn_ref_h1w5a_157",wt="_floating_cart_ctn_h1w5a_157",yt="_floating_cart_ctn_open_h1w5a_188",$t="_floating_cart_content_h1w5a_188",xt="_floating_cart_btn_h1w5a_212",kt="_floating_cart_card_h1w5a_237",Ct="_floating_producto_card_h1w5a_263",It="_floating_producto_card_img_h1w5a_277",St="_producto_card_ctn_h1w5a_284",Pt="_producto_card_btn_del_h1w5a_292",Dt="_producto_card_price_h1w5a_312",zt="_producto_card_btn_ctn_h1w5a_316",Mt="_floating_cart_count_h1w5a_320",Lt="_producto_card_btn_cant_h1w5a_330",Rt="_producto_card_btn_input_h1w5a_343",Tt="_menu_cart_layer_container_h1w5a_392",Et="_menu_cart_layer_h1w5a_392",Ot="_menu_cart_layer_header_button_name_h1w5a_409",Ft="_menu_cart_layer_btn_ctn_h1w5a_415",Ht="_menu_cart_layer_btn_h1w5a_415",jt="_menu_cart_layer_btn_selected_h1w5a_428",Bt="_menu_cart_layer_angle_h1w5a_434",Gt="_cart_button_1_h1w5a_438",Nt="_menu_cart_layer_products_h1w5a_450",At="_menu_cart_layer_header_button_h1w5a_409",Vt="_producto_layer_bg_h1w5a_483",qt="_producto_layer_ctn_h1w5a_493",Ut="_is_mobile_h1w5a_505",Wt="_producto_layer_img_ctn_h1w5a_510",Zt="_producto_layer_img_min_h1w5a_521",Yt="_producto_layer_content_h1w5a_535",Jt="_producto_layer_img1_h1w5a_542",Xt="_producto_cart_btn_h1w5a_555",Kt="_producto_layer_content_precio_mobile_h1w5a_571",Qt="_productos_search_bar_cnt_h1w5a_582",er="_productos_search_input_h1w5a_586",tr="_productos_search_input_mobile_h1w5a_598",rr="_productos_search_icon_h1w5a_624",or="_productos_search_layer_h1w5a_639",nr="_productos_search_sin_resultados_h1w5a_639",ar="_productos_search_layer_mobile_h1w5a_655",cr="_productos_search_layer_angle_h1w5a_672",ir="_productos_search_sin_resultados_layer_angle_h1w5a_672",sr="_top_bar_mobile_h1w5a_688",lr="_top_bar_mobile_icon_h1w5a_699",dr="_top_bar_mobile_icon_counter_h1w5a_721",_r="_top_bar_cart_icon_cancel_h1w5a_732",ur="_producto_filter_container_h1w5a_748",pr="_producto_filter_card_h1w5a_760",mr="_producto_filter_card_image_h1w5a_775",vr="_producto_filter_button_h1w5a_791",gr="_producto_filter_price_h1w5a_805",fr="_producto_filter_mobile_text_h1w5a_843",hr="_productos_search_close_button_h1w5a_849",p={product_cuadrilla_ctn:st,product_cuadrilla_ctn_mobile:lt,product_cuadrilla_mobile:dt,product_card:_t,product_card_mobile:ut,product_card_image:pt,product_name_ctn:mt,product_cart_button:vt,product_cart_button_mobile:gt,product_cart_bn_text:ft,product_cart_bn_cant:ht,floating_cart_ctn_ref:bt,floating_cart_ctn:wt,floating_cart_ctn_open:yt,floating_cart_content:$t,floating_cart_btn:xt,floating_cart_card:kt,floating_producto_card:Ct,floating_producto_card_img:It,producto_card_ctn:St,producto_card_btn_del:Pt,producto_card_price:Dt,producto_card_btn_ctn:zt,floating_cart_count:Mt,producto_card_btn_cant:Lt,producto_card_btn_input:Rt,menu_cart_layer_container:Tt,menu_cart_layer:Et,menu_cart_layer_header_button_name:Ot,menu_cart_layer_btn_ctn:Ft,menu_cart_layer_btn:Ht,menu_cart_layer_btn_selected:jt,menu_cart_layer_angle:Bt,cart_button_1:Gt,menu_cart_layer_products:Nt,menu_cart_layer_header_button:At,producto_layer_bg:Vt,producto_layer_ctn:qt,is_mobile:Ut,producto_layer_img_ctn:Wt,producto_layer_img_min:Zt,producto_layer_content:Yt,producto_layer_img1:Jt,producto_cart_btn:Xt,producto_layer_content_precio_mobile:Kt,productos_search_bar_cnt:Qt,productos_search_input:er,productos_search_input_mobile:tr,productos_search_icon:rr,productos_search_layer:or,productos_search_sin_resultados:nr,productos_search_layer_mobile:ar,productos_search_layer_angle:cr,productos_search_sin_resultados_layer_angle:ir,top_bar_mobile:sr,top_bar_mobile_icon:lr,top_bar_mobile_icon_counter:dr,top_bar_cart_icon_cancel:_r,producto_filter_container:ur,producto_filter_card:pr,producto_filter_card_image:mr,producto_filter_button:vr,producto_filter_price:gr,producto_filter_mobile_text:fr,productos_search_close_button:hr};function ne(e){e.preventDefault()}var br=new Set(["ArrowUp","ArrowRight","ArrowDown","ArrowLeft"]);function wr(e){if(br.has(e.key))return ne(e),!1}var je=new AbortController,re=je.signal;function yr(){window.addEventListener("DOMMouseScroll",ne,{signal:re}),window.addEventListener("wheel",ne,{passive:!1,signal:re}),window.addEventListener("touchmove",ne,{passive:!1,signal:re}),window.addEventListener("keydown",wr,{signal:re})}function $r(){je?.abort()}function xr(e){if(!e)throw new Error("Please specify a container for the zoom image");const o=e.querySelector("img");if(!o)throw new Error("Please place an image inside the container");return o}var kr=50,Cr=()=>({createZoomImage:(o,a,h)=>{if(o.src===a)return;o.src=a;let t=!1;o.onload=()=>{t=!0,h.setState({zoomedImgStatus:"loaded"})},o.onerror=()=>{t=!0,h.setState({zoomedImgStatus:"error"})},setTimeout(()=>{t||h.setState({zoomedImgStatus:"loading"})},kr)}}),Ir=Cr();function Sr(e){let o=new Set,a=!1,h=e,t,i=(y={})=>{t={...t,...y},s()},s=()=>{if(a)return;let y=!1;if(t){for(let $ in t)if(h[$]!==t[$]){y=!0;break}}y&&(h={...h,...t},o.forEach($=>$({state:h,updatedProperties:t})),t=void 0)};return{subscribe:y=>(o.add(y),()=>{o.delete(y)}),cleanup:()=>o.clear(),getState:()=>h,setState:i,batch:y=>{a=!0,y(),a=!1,s()}}}function Pr(e,o={}){let a=null;const h=xr(e),t={zoomFactor:o.zoomFactor??4,zoomImageSource:o.zoomImageSource??h.src,disabledContextMenu:o.disabledContextMenu??!1},{disabledContextMenu:i,zoomFactor:s,zoomImageSource:y}=t,$=Sr({zoomedImgStatus:"idle"}),b=document.createElement("img");o.zoomImageProps?.alt&&(b.alt=o.zoomImageProps.alt),o.zoomImageProps?.className&&(b.className=o.zoomImageProps.className),b.style.maxWidth="none",b.style.position="absolute",b.style.top="0",b.style.left="0",i&&(b.style["-webkit-user-select"]="none",b.style["-webkit-touch-callout"]="none",b.oncontextmenu=()=>!1);const f=v=>a&&v.pointerId===a;function d(v){if(a===null){a=v.pointerId,e.appendChild(b),b.style.display="block";const x=h.clientWidth*s,P=h.clientHeight*s;b.style.width=`${x}px`,b.style.height=`${P}px`,Ir.createZoomImage(b,y,$),c(v),v.pointerType!=="mouse"&&yr()}}function m(v){f(v)&&c(v)}function n(v){f(v)&&(e.contains(b)&&e.removeChild(b),b.style.display="none",b.style.transform="none",$r(),a=null)}const u=v=>{const x=e.clientWidth;return v>0?0:v+x*s<x?-x*(s-1):v},g=v=>{const x=e.clientHeight;return v>0?0:v+x*s<x?-x*(s-1):v};function c(v){b.style.display="block";const x=e.getBoundingClientRect(),P=v.clientX-x.left,M=v.clientY-x.top,O=u(-P*s+P),H=g(-M*s+M);b.style.transform=`translate(${O}px, ${H}px)`}const r=new AbortController,{signal:l}=r;return e.addEventListener("pointerenter",d,{signal:l}),e.addEventListener("pointermove",m,{signal:l}),e.addEventListener("pointerleave",n,{signal:l}),e.addEventListener("touchstart",v=>{i&&v.preventDefault()},{signal:l}),{cleanup:()=>{r.abort(),e.contains(b)&&e.removeChild(b),$.cleanup()},subscribe:$.subscribe,getState:$.getState}}function Dr(){let e;const[o,a]=Ke({zoomedImgStatus:"idle"}),h=(...t)=>{e?.cleanup(),e=Pr(...t),a(e.getState()),e.subscribe(({state:i})=>{a(i)})};return Ae(()=>{e?.cleanup()}),{createZoomImage:h,zoomImageState:o}}const zr=`<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!-- Uploaded to: SVG Repo, www.svgrepo.com, Generator: SVG Repo Mixer Tools -->

<svg
   width="466.66583"
   height="466.66583"
   viewBox="0 0 13.999975 13.999975"
   fill="none"
   version="1.1"
   id="svg1"
   sodipodi:docname="icon_cancel.svg"
   inkscape:version="1.4 (e7c3feb100, 2024-10-09)"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg">
  <defs
     id="defs1" />
  <sodipodi:namedview
     id="namedview1"
     pagecolor="#ffffff"
     bordercolor="#000000"
     borderopacity="0.25"
     inkscape:showpageshadow="2"
     inkscape:pageopacity="0.0"
     inkscape:pagecheckerboard="0"
     inkscape:deskcolor="#d1d1d1"
     inkscape:zoom="0.499375"
     inkscape:cx="-89.111389"
     inkscape:cy="323.40426"
     inkscape:window-width="1920"
     inkscape:window-height="1008"
     inkscape:window-x="0"
     inkscape:window-y="0"
     inkscape:window-maximized="1"
     inkscape:current-layer="svg1" />
  <path
     fill-rule="evenodd"
     clip-rule="evenodd"
     d="m 0.29289,0.29289 c 0.39053,-0.39052 1.02369,-0.39052 1.41422,0 L 7,5.5858 12.2929,0.29289 c 0.3905,-0.39052 1.0237,-0.39052 1.4142,0 0.3905,0.39053 0.3905,1.02369 0,1.41422 L 8.4142,7 l 5.2929,5.2929 c 0.3905,0.3905 0.3905,1.0237 0,1.4142 -0.3905,0.3905 -1.0237,0.3905 -1.4142,0 L 7,8.4142 1.70711,13.7071 c -0.39053,0.3905 -1.02369,0.3905 -1.41422,0 -0.39052,-0.3905 -0.39052,-1.0237 0,-1.4142 L 5.5858,7 0.29289,1.70711 c -0.39052,-0.39053 -0.39052,-1.02369 0,-1.41422 z"
     fill="#0F1729"
     id="path1"
     style="fill:#de4848;fill-opacity:1" />
</svg>
`,Mr=`<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!-- Generator: Adobe Illustrator 22.0.1, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->

<svg
   version="1.1"
   id="_x35_0"
   x="0px"
   y="0px"
   viewBox="0 0 374.625 338.54297"
   xml:space="preserve"
   sodipodi:docname="icon_cart.svg"
   inkscape:version="1.4 (e7c3feb100, 2024-10-09)"
   width="374.625"
   height="338.54297"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:xlink="http://www.w3.org/1999/xlink"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg"><defs
   id="defs9"><linearGradient
     id="linearGradient15"
     inkscape:collect="always"><stop
       style="stop-color:#6568eb;stop-opacity:1;"
       offset="0"
       id="stop15" /><stop
       style="stop-color:#7139e9;stop-opacity:1;"
       offset="0.50012738"
       id="stop17" /><stop
       style="stop-color:#9416e9;stop-opacity:1;"
       offset="1"
       id="stop16" /></linearGradient><linearGradient
     inkscape:collect="always"
     xlink:href="#linearGradient15"
     id="linearGradient16"
     x1="112.51031"
     y1="135.43776"
     x2="399.48965"
     y2="376.24203"
     gradientUnits="userSpaceOnUse" /></defs><sodipodi:namedview
   id="namedview9"
   pagecolor="#ffffff"
   bordercolor="#000000"
   borderopacity="0.25"
   inkscape:showpageshadow="2"
   inkscape:pageopacity="0.0"
   inkscape:pagecheckerboard="0"
   inkscape:deskcolor="#d1d1d1"
   inkscape:zoom="0.78027344"
   inkscape:cx="18.583229"
   inkscape:cy="254.398"
   inkscape:window-width="1920"
   inkscape:window-height="1008"
   inkscape:window-x="0"
   inkscape:window-y="0"
   inkscape:window-maximized="1"
   inkscape:current-layer="path9" />
<linearGradient
   id="SVGID_1_"
   gradientUnits="userSpaceOnUse"
   x1="24.6903"
   y1="10.2765"
   x2="482.35349"
   y2="460.4465">
	
	
	
	
	
	
	<stop
   offset="0"
   style="stop-color:#5287dc;stop-opacity:1;"
   id="stop7" />
	<stop
   offset="0.45566216"
   style="stop-color:#8255d3;stop-opacity:1;"
   id="stop8" />
	<stop
   offset="1"
   style="stop-color:#a835c3;stop-opacity:1;"
   id="stop9" />
</linearGradient>
<g
   id="path9"
   transform="translate(-68.6875,-86.568359)"><path
     id="path10"
     style="fill:url(#linearGradient16)"
     d="m 414.74609,86.568359 c -3.04782,-2.1e-5 -6.09573,1.152377 -8.39843,3.455079 l -23.7793,23.779292 c -2.50695,2.50439 -2.50695,6.68898 0,9.19336 2.50364,2.50364 6.68994,2.50408 9.19336,-0.002 l 22.98242,-22.98437 4.95117,4.94921 -87.60547,87.60547 c -0.0235,0.0227 9.2e-4,-0.003 -0.0254,0.0234 l -0.45312,0.45508 -12.61328,12.61133 c -1.41689,-1.87757 -3.07876,-3.54287 -4.95703,-4.95899 l 60.11132,-61.11328 c 2.50629,-2.50372 2.50688,-6.68875 0.002,-9.19336 -2.50364,-2.50363 -6.68995,-2.50598 -9.19336,0 l -0.0117,0.0117 -59.28125,60.28125 h -37.78125 c -3.54175,0 -6.5,2.95825 -6.5,6.5 0,3.54175 2.95825,6.5 6.5,6.5 h 12.58008 c -4.16709,4.50137 -6.73633,10.49857 -6.73633,17.08203 0,6.58272 2.56769,12.57884 6.73437,17.08008 H 231.5313 c 4.16666,-4.50132 6.73438,-10.49707 6.73437,-17.08008 0,-6.58352 -2.56872,-12.58045 -6.73632,-17.08203 h 5.40625 c 3.54175,0 6.5,-2.95825 6.5,-6.5 0,-3.54175 -2.95825,-6.5 -6.5,-6.5 h -30.625 L 105.65234,90.025391 c -4.6039,-4.606906 -12.190716,-4.606564 -16.796871,-0.002 L 82.316406,96.5625 c -4.605098,4.6051 -4.605098,12.19178 0,16.79688 l 77.328124,77.32617 H 89.259766 c -11.30764,-0.001 -20.572266,9.26291 -20.572266,20.57031 v 19.01758 c 0,11.30769 9.265626,20.57226 20.572266,20.57226 h 6.123046 l 5.144528,44.95118 c 0.37485,3.27345 3.20095,5.75976 6.45508,5.75976 0.23535,0 0.48252,-0.012 0.73828,-0.041 h 0.004 l 0.004,-0.002 c 3.51744,-0.40536 6.11544,-3.67944 5.71289,-7.19726 l -4.97657,-43.47071 H 403.53143 L 386.58416,398.5195 c -0.89323,7.78495 -7.40681,13.5918 -15.24218,13.5918 h -27.19141 v -92.05078 c 0,-9.06216 -7.43784,-16.5 -16.5,-16.5 -9.06216,0 -16.5,7.43784 -16.5,16.5 V 412.1113 H 272.5 v -92.05078 c 0,-9.06216 -7.43784,-16.5 -16.5,-16.5 -9.06216,0 -16.5,7.43784 -16.5,16.5 v 92.05078 h -38.65039 v -92.05078 c 0,-9.06216 -7.43784,-16.5 -16.5,-16.5 -9.06216,0 -16.5,7.43784 -16.5,16.5 V 412.1113 H 140.6582 c -7.8351,0 -14.34899,-5.80799 -15.24218,-13.5918 l -8.73829,-76.1543 -0.002,-0.002 c -0.405,-3.51429 -3.67809,-6.10519 -7.18359,-5.71484 h -0.008 -0.008 c -3.51722,0.40534 -6.12031,3.68025 -5.71484,7.20117 l 8.74023,76.15234 c 1.63883,14.27902 13.78325,25.10938 28.15625,25.10938 h 33.69141 20 H 246 h 20 51.65039 20 33.69141 c 14.37279,0 26.51634,-10.8299 28.15625,-25.10938 l 17.11914,-149.1582 h 6.12304 c 11.30741,0 20.57227,-9.26486 20.57227,-20.57227 v -19.01562 c 0,-11.30769 -9.26563,-20.57227 -20.57227,-20.57227 h -70.38476 l 77.32617,-77.32812 c 4.6051,-4.6051 4.6051,-12.18982 0,-16.794923 l -6.53711,-6.537109 c -2.30233,-2.303078 -5.35062,-3.455057 -8.39844,-3.455079 z M 97.253906,100.00977 197.85156,200.60938 l 0.0977,0.0977 c -1.87428,1.4146 -3.53483,3.07681 -4.94922,4.95117 l -13.06836,-13.06836 v -0.002 L 92.304688,104.96094 Z M 339.35547,203.68359 h 83.38476 c 4.21165,0 7.57227,3.36063 7.57227,7.57227 v 19.01758 c 0,4.21164 -3.36062,7.57226 -7.57227,7.57226 H 317.41602 c 4.16665,-4.50132 6.73437,-10.49902 6.73437,-17.08203 0,-0.61498 -0.0976,-1.14795 -0.14453,-1.72851 z m -250.095704,0.002 h 83.386714 l 15.34766,15.34961 c -0.0472,0.58117 -0.14453,1.11369 -0.14453,1.73046 0,6.58277 2.56765,12.57884 6.73437,17.08008 H 89.259766 c -4.211643,0 -7.572266,-3.36062 -7.572266,-7.57226 v -19.01563 c 0,-4.21164 3.360623,-7.57226 7.572266,-7.57226 z m 123.798824,4.86914 c 6.76869,0 12.20899,5.4403 12.20899,12.20898 0,6.76869 -5.4403,12.20899 -12.20899,12.20899 -6.76868,0 -12.20898,-5.4403 -12.20898,-12.20899 0,-6.76744 5.4406,-12.20898 12.20898,-12.20898 z m 85.88282,0.002 c 6.76868,0 12.20898,5.44031 12.20898,12.20898 0,6.76869 -5.4403,12.20899 -12.20898,12.20899 -6.76839,0 -12.20899,-5.44154 -12.20899,-12.20899 0,-6.76867 5.4403,-12.20898 12.20899,-12.20898 z M 184.34961,316.5625 c 1.96708,0 3.5,1.53292 3.5,3.5 v 92.04883 h -7 V 320.0625 c 0,-1.96708 1.53292,-3.5 3.5,-3.5 z m 71.65039,0 c 1.96708,0 3.5,1.53292 3.5,3.5 v 92.04883 h -7 V 320.0625 c 0,-1.96708 1.53292,-3.5 3.5,-3.5 z m 71.65039,0 c 1.96708,0 3.5,1.53292 3.5,3.5 v 92.04883 h -7 V 320.0625 c 0,-1.96708 1.53292,-3.5 3.5,-3.5 z" /></g>
</svg>
`,Lr=60*5,de=new Map,Ie=e=>{e.productos=e.productos||[];for(const o of e.productos){o._stock=0,o._moneda="s/.";for(const a of o.Stock)o._stock+=a.c||0}e.categorias=e.categorias||[],e.categoriasMap=Fe(e.categorias,"ID")},Be=e=>{const[o,a]=L({productos:[],categorias:[],categoriasMap:new Map,isFetching:!0,updated:-1});W(ce(()=>[o()],async()=>{const s=o().productos;if(s.length===0)return;const y=await Oe();if(!y)return;const b=(await y.table("cache").get("cart"))?.productos||[],f=Fe(s,"ID"),d=new Map;for(const m of b){const n=f.get(m.id);n&&(m.cant>n._stock&&(m.cant=n._stock),d.set(m.id,{cant:m.cant,producto:n}))}se(d)}));const h="productos_"+[0].join("_"),t=Math.floor(Date.now()/1e3),i=Ce.getItem(h);if(i){const s=JSON.parse(i);if(t-s.updated<Lr)return console.log("enviando productos del caché::",s),Ie(s),a(s),[o]}if(We()){if(!de.has(h)){const s=Xe("p-productos-cms")+`?empresa-id=${B.getEmpresaID()}`,y=new Headers;y.append("Authorization",`Bearer ${Ze(!0)}`),de.set(h,new Promise(($,b)=>{fetch(s,{headers:y}).then(f=>f.json()).then(f=>{console.log("productos obtenidos desde servidor:",f),f.updated=t,$(f),f.productos?.length>0&&Ce.setItem(h,JSON.stringify(f))}).catch(f=>{b(f)})}))}de.get(h).then(s=>{console.log("productos obtenidos promesa::",s),Ie(s),a(s)})}return[o]};var Rr=C("<div><div class=w100>"),Tr=C("<div>Obteniendo productos..."),Er=C('<div class="flex ai-center jc-center"><div></div><i class="icon-basket _icon mt-02"></i>'),Or=C('<div><i class="icon-attention _icon"></i><div></div><div>Stock Máximo = <span></span></div>'),Fr=C('<div class="p-rel flex-column ai-center"><div><div class=grow-1><div></div><div class="ff-bold h3">s/. </div></div>'),A=C("<div>"),Hr=C("<span>Agregar más <span>(<!>)"),jr=C("<div>Agregar"),Br=C('<span class="ml-02 ff-bold">(Hay <!>)'),Gr=C('<div><div><div><img class></div><div><div class="h100 w100"></div><div><div class="ff-bold-italic mr-08">Ir a Pagar -</div><div class="ff-bold-italic mr-08">S/. '),Nr=C('<div class="c-red h5 mt-02"><i class=icon-attention></i> '),Ar=C('<div class="p-rel w100"><div><div></div><div><div></div><div><i class=icon-cancel></i></div><div><div></div><div></div></div><div><button>-</button><input type=number>'),Vr=C("<button>+"),qr=C('<div><div class="flex h1 ff-semibold mb-08"></div><div class="flex w100"><div><div></div><div class="flex mt-12 ai-center"><div class="flex ai-center"><div class=mr-06>Precio:</div><div class="ff-bold h1">s/. </div></div><div class=ml-auto></div><button>Agregar<i class=icon-basket>'),Ur=C('<div><div class="flex w100 p-rel"><div><div><div class="flex ai-start"><div></div><div></div></div></div><div><i class=icon-basket>'),Wr=C("<div class=_highlight>"),Zr=C("<div class=ff-bold>+"),Yr=C('<div class="h5 ff-bold mb-04">(<!>)'),Se=C("<img>"),Jr=C("<div><div>"),Xr=C('<div><div class="p-rel w100"><input type=text class=w100><button><i class=icon-cancel></i>'),Kr=C("<i>"),Qr=C("<div>Escriba un producto para buscarlo..."),eo=C("<div>No se encontraron productos"),to=C("<div class=w100>"),ro=C('<div class="ff-bold p-rel h6 w100 mb-02">');function oo(e){const[o]=Be();return(()=>{var a=Rr(),h=a.firstChild;return _(h,(()=>{var t=S(()=>!!o().isFetching);return()=>t()&&Tr()})(),null),_(h,()=>(o().productos||[]).map(t=>{const i=S(()=>D().get(t.ID)?.cant||0);return(()=>{var s=Fr(),y=s.firstChild,$=y.firstChild,b=$.firstChild,f=b.nextSibling;return f.firstChild,s.$$click=d=>{d.stopPropagation(),we(t)},_(s,(()=>{var d=S(()=>t.Images?.length>0);return()=>d()&&k(Z,{get src(){return"img-productos/"+t.Images[0]?.n},size:2,get class(){return p.product_card_image+" w100"},types:["avif","webp"]})})(),y),_(b,()=>t.Nombre),_(f,()=>V(t.PrecioFinal/100,2),null),_(y,k(F,{get when(){return i()<t._stock},get children(){var d=Er(),m=d.firstChild,n=m.nextSibling;return d.$$click=u=>{u.stopPropagation(),Ge(t)},_(m,i),_(d,(()=>{var u=S(()=>i()>0);return()=>u()?(()=>{var g=A();return _(g,(()=>{var c=S(()=>!N());return()=>c()&&(()=>{var r=Hr(),l=r.firstChild,v=l.nextSibling,x=v.firstChild,P=x.nextSibling;return P.nextSibling,_(v,i,P),r})()})()),I(()=>w(g,p.product_cart_bn_text)),g})():(()=>{var g=jr();return I(()=>w(g,p.product_cart_bn_text)),g})()})(),n),_(d,(()=>{var u=S(()=>!!(i()>0&&N()));return()=>u()&&(()=>{var g=Br(),c=g.firstChild,r=c.nextSibling;return r.nextSibling,_(g,i,r),g})()})(),null),I(u=>{var g={[p.product_cart_button]:[1].includes(R()),[p.product_cart_button_mobile]:[2,3].includes(R())},c=p.product_cart_bn_cant;return u.e=T(d,g,u.e),c!==u.t&&w(m,u.t=c),u},{e:void 0,t:void 0}),d}}),null),_(y,k(F,{get when(){return i()>=t._stock},get children(){var d=Or(),m=d.firstChild,n=m.nextSibling,u=n.nextSibling,g=u.firstChild,c=g.nextSibling;return d.$$click=r=>{r.stopPropagation()},_(n,i),_(c,i),I(r=>{var l=`flex ai-center jc-center ${p.product_cart_button}`,v=p.product_cart_bn_cant,x=p.product_cart_bn_text;return l!==r.e&&w(d,r.e=l),v!==r.t&&w(n,r.t=v),x!==r.a&&w(u,r.a=x),r},{e:void 0,t:void 0,a:void 0}),d}}),null),I(d=>{var m={"has-products":i()>0,[p.product_card]:R()!==3,[p.product_card_mobile]:R()===3},n=`flex jc-start w100 mt-04 ${p.product_name_ctn}`;return d.e=T(s,m,d.e),n!==d.t&&w(y,d.t=n),d},{e:void 0,t:void 0}),s})()}),null),I(t=>{var i="w100 "+p.product_cuadrilla_ctn,s={[p.product_cuadrilla_ctn_mobile]:R()===3},y={[p.product_cuadrilla_mobile]:[3].includes(R()),"flex-wrap ai-baseline jc-center":[1,2].includes(R())};return i!==t.e&&w(a,t.e=i),t.t=T(a,s,t.t),t.a=T(h,y,t.a),t},{e:void 0,t:void 0,a:void 0}),a})()}const[D,se]=L(new Map),Ge=e=>{const o=D(),a=o.get(e.ID);a?a.cant++:o.set(e.ID,{producto:e,cant:1}),console.log("productos 1",o),se(new Map(o))},no=e=>{const[o,a]=L(0),h=S(()=>{let t=0;for(const i of D().values())t+=i.cant*i.producto.PrecioFinal;return t});return k(Ee,{get mount(){return document.body},get children(){return k(F,{get when(){return!j()},get children(){var t=Gr(),i=t.firstChild,s=i.firstChild,y=s.firstChild,$=s.nextSibling,b=$.firstChild,f=b.nextSibling,d=f.firstChild,m=d.nextSibling;return m.firstChild,s.$$click=n=>{n.stopPropagation(),a(o()?0:1)},_(b,k(fe,{get each(){return Array.from(D().values())},children:n=>(console.log("rendering productos::",D()),k(Ne,{get producto(){return n.producto},get cant(){return n.cant}}))})),f.$$click=n=>{n.stopPropagation(),Q(!0),a(0),ae(2)},_(m,()=>V(h()/100,2),null),_(t,(()=>{var n=S(()=>D().size>0&&!o());return()=>n()&&(()=>{var u=A();return _(u,()=>D().size),I(()=>w(u,`p-abs ff-semibold flex-center ${p.floating_cart_count}`)),u})()})(),null),I(n=>{var u=`p-rel flex-center ${p.floating_cart_ctn_ref}`,g=`p-rel h100 w100 ${p.floating_cart_ctn}`,c={[p.floating_cart_ctn_open]:o()===1},r=`flex-center p-rel ${p.floating_cart_btn}`,l=D().size>0,v=te(o()?zr:Mr),x=`p-rel ${p.floating_cart_content}`,P=`flex-center ${p.floating_cart_card}`;return u!==n.e&&w(t,n.e=u),g!==n.t&&w(i,n.t=g),n.a=T(i,c,n.a),r!==n.o&&w(s,n.o=r),l!==n.i&&s.classList.toggle("has-productos",n.i=l),v!==n.n&&U(y,"src",n.n=v),x!==n.s&&w($,n.s=x),P!==n.h&&w(f,n.h=P),n},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0}),t}})}})},[me,be]=L({id:0,msg:""}),oe=()=>{me().id>0&&be({id:0,msg:""})};let Pe=0;W(()=>{Pe!==D().size&&(Pe=D().size,be({id:0,msg:""}))});let De=!0;W(()=>{const e=D();De&&e.size===0||(De=!1,he(async()=>{const o={key:"cart",productos:[...e.values()].map(h=>({id:h.producto.ID,cant:h.cant}))},a=await Oe();a&&a.table("cache").put(o)},500))});const Ne=e=>{const o=S(()=>{if(me().id===e.producto.ID)return me().msg}),a=S(ce(()=>[D()],()=>e.cant*e.producto.PrecioFinal)),h=S(ce(()=>[D()],()=>e.cant)),t=i=>{if(i<=0)return;const s=D().get(e.producto.ID);s.cant=i,se(new Map(D()))};return(()=>{var i=Ar(),s=i.firstChild,y=s.firstChild,$=y.nextSibling,b=$.firstChild,f=b.nextSibling,d=f.nextSibling,m=d.firstChild,n=m.nextSibling,u=d.nextSibling,g=u.firstChild,c=g.nextSibling;return _(y,k(Z,{get src(){return"img-productos/"+e.producto.Images[0]?.n},size:2,class:"h100 w100 object-cover",types:["avif","webp"]})),_(b,()=>e.producto.Nombre),f.$$click=r=>{r.stopPropagation(),oe(),D().delete(e.producto.ID),se(new Map(D()))},_(m,()=>e.producto._moneda),_(n,()=>V(a()/100,2)),g.$$click=r=>{r.stopPropagation(),t(e.cant-1),oe()},c.addEventListener("change",r=>{let l=parseInt(r.target.value||"0");l>e.producto._stock?(l=e.producto._stock,r.target.value=l,be({id:e.producto.ID,msg:`El stock máximo es ${e.producto._stock}`}),t(l)):l>0?(t(l),oe()):r.target.value=String(e.cant)}),_(u,(()=>{var r=S(()=>h()<e.producto._stock);return()=>r()&&(()=>{var l=Vr();return l.$$click=v=>{v.stopPropagation(),t(e.cant+1),oe()},I(()=>w(l,`${p.producto_card_btn_cant}`)),l})()})(),null),_(i,k(F,{get when(){return!!o()},get children(){var r=Nr(),l=r.firstChild;return l.nextSibling,_(r,o,null),r}}),null),I(r=>{var l=(e.mode||1)===1,v=(e.mode||1)===2,x=`flex w100 ${p.floating_producto_card} p-rel`,P=e.mode===2,M=`h100 ${p.floating_producto_card_img}`,O=`p-rel w100 flex-column ml-06 ${p.producto_card_ctn}`,H=`p-abs flex-center ${p.producto_card_btn_del}`,Y=`p-abs h3 ff-semibold flex ai-center ${p.producto_card_price}`,ye=`p-abs flex ai-center ff-semibold ${p.producto_card_btn_ctn}`,$e=`${p.producto_card_btn_cant}`,xe=`mr-02 ml-02 ${p.producto_card_btn_input}`;return l!==r.e&&i.classList.toggle("mb-10",r.e=l),v!==r.t&&i.classList.toggle("mb-12",r.t=v),x!==r.a&&w(s,r.a=x),P!==r.o&&s.classList.toggle("s2",r.o=P),M!==r.i&&w(y,r.i=M),O!==r.n&&w($,r.n=O),H!==r.s&&w(f,r.s=H),Y!==r.h&&w(d,r.h=Y),ye!==r.r&&w(u,r.r=ye),$e!==r.d&&w(g,r.d=$e),xe!==r.l&&w(c,r.l=xe),r},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0}),I(()=>c.value=h()),i})()},[K,we]=L(null),ao=e=>{let o;const{createZoomImage:a}=Dr();Ve(()=>{console.log("div container::",o),a(o,{zoomFactor:2})});const h=(()=>{var t=A();return _(t,()=>K().Images.map(i=>(()=>{var s=A();return _(s,k(Z,{get src(){return"img-productos/"+i.n},size:2,class:"h100 w100 object-contain",types:["avif","webp"]})),I(()=>w(s,`p-rel ${p.producto_layer_img_min} mb-08`)),s})())),I(()=>w(t,`p-rel ${p.producto_layer_img_ctn}`)),t})();return k(Ee,{get mount(){return document.body},get children(){return[(()=>{var t=A();return t.$$click=i=>{i.stopPropagation(),we(null)},t.$$mousedown=i=>{i.stopPropagation(),B.productoSearchRefocusOnBlur=!0},I(()=>w(t,`${p.producto_layer_bg}`)),t})(),(()=>{var t=qr(),i=t.firstChild,s=i.nextSibling,y=s.firstChild,$=y.firstChild,b=$.nextSibling,f=b.firstChild,d=f.firstChild,m=d.nextSibling;m.firstChild;var n=f.nextSibling,u=n.nextSibling;t.$$mousedown=c=>{c.stopPropagation(),B.productoSearchRefocusOnBlur=!0},_(i,()=>K().Nombre),_(s,()=>!J()&&h,y);var g=o;return typeof g=="function"?ee(g,$):o=$,_($,k(Z,{get src(){return"img-productos/"+K().Images[0]?.n},size:6,class:"h100 w100 object-contain",types:["avif","webp"]})),_(y,()=>J()&&h,b),_(m,()=>V(K()?.PrecioFinal/100,2),null),I(c=>{var r=`${p.producto_layer_ctn}`,l={[p.is_mobile]:J()},v=`${p.producto_layer_content}`,x={[p.is_mobile]:J()},P=`p-rel w100 ${p.producto_layer_img1}`,M={[p.producto_layer_content_precio_mobile]:J()},O=`${p.producto_cart_btn}`;return r!==c.e&&w(t,c.e=r),c.t=T(t,l,c.t),v!==c.a&&w(y,c.a=v),c.o=T(y,x,c.o),P!==c.i&&w($,c.i=P),c.n=T(f,M,c.n),O!==c.s&&w(u,c.s=O),c},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0}),t})()]}})},co=e=>{const o=S(()=>D().get(e.producto.ID)?.cant||0);return(()=>{var a=Ur(),h=a.firstChild,t=h.firstChild,i=t.firstChild,s=i.firstChild,y=s.firstChild,$=y.nextSibling,b=i.nextSibling,f=b.firstChild;return h.$$click=d=>{d.stopPropagation(),we(e.producto)},_(h,k(Z,{get src(){return"img-productos/"+e.producto.Images[0]?.n},size:2,get class(){return p.producto_filter_card_image+" w100"},types:["avif","webp"]}),t),_(t,(()=>{var d=S(()=>!N());return()=>d()&&(()=>{var m=Wr();return _(m,()=>ke(e.producto.Nombre,e.searchText||[])),m})()})(),i),_(y,()=>e.producto._moneda),_($,()=>V(e.producto.PrecioFinal/100,2)),b.$$click=d=>{d.stopPropagation(),Ge(e.producto)},_(b,(()=>{var d=S(()=>o()===0);return()=>d()&&(()=>{var m=Zr();return I(()=>m.classList.toggle("mt-02",!N())),m})()})(),f),_(b,(()=>{var d=S(()=>o()>0);return()=>d()&&(()=>{var m=Yr(),n=m.firstChild,u=n.nextSibling;return u.nextSibling,_(m,o,u),m})()})(),null),_(a,(()=>{var d=S(()=>!!N());return()=>d()&&(()=>{var m=A();return _(m,()=>ke(e.producto.Nombre,e.searchText||[])),I(()=>w(m,`_highlight ${p.producto_filter_mobile_text}`)),m})()})(),null),I(d=>{var m=`${p.producto_filter_card} p-rel`,n={[p.is_mobile]:N()},u=`ff-bold h3 flex ai-center ${p.producto_filter_price}`,g={[p.is_mobile]:N()},c=`flex ai-center jc-center ${p.producto_filter_button}`;return m!==d.e&&w(a,d.e=m),d.t=T(a,n,d.t),u!==d.a&&w(i,d.a=u),d.o=T(i,g,d.o),c!==d.i&&w(b,d.i=c),d},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),a})()},ze=e=>{const[o]=Be(),[a,h]=L([]),[t,i]=L(!1),[s,y]=L([]);let $;B.productoSearchRefocusOnBlur=!1;const b=d=>{const m=d.split(" ").map(l=>l.trim().toLowerCase()).filter(l=>l.length>1),n=[],u=o(),g=m.length>0;t()!==g&&i(g);for(const l of u.productos)if(Ye(l.Nombre.toLowerCase(),m)&&(n.push(l),n.length>=24))return;const c=new Map;for(const l of n){const v=l.CategoriasIDs?.length>0?l.CategoriasIDs[0]:-1;c.has(v)?c.get(v).push(l):c.set(v,[l])}const r=[];for(const[l,v]of c){const x=u.categoriasMap.get(l)?.Nombre||"";r.push({categoria:x,productos:v})}r.sort((l,v)=>l.categoria?l.productos.length>v.productos.length?-1:1:-1),console.log("categoría productos::",r),h(r),y(m)},f=()=>{y([]),i(!1),B.productoSearchRefocusOnBlur=!1,$&&($.value="",$.blur())};return(()=>{var d=Xr(),m=d.firstChild,n=m.firstChild,u=n.nextSibling;d.$$mousedown=c=>{c.stopPropagation(),B.productoSearchRefocusOnBlur=!0},n.addEventListener("blur",c=>{c.stopPropagation(),B.productoSearchRefocusOnBlur?(B.productoSearchRefocusOnBlur=!1,c.target.focus()):f()}),n.addEventListener("focus",c=>{c.stopPropagation()}),n.$$keydown=c=>{c.stopPropagation(),he(()=>{b(c.target.value)},250)};var g=$;return typeof g=="function"?ee(g,n):$=n,_(m,(()=>{var c=S(()=>!t());return()=>c()&&(()=>{var r=Kr();return I(()=>w(r,"icon-search "+p.productos_search_icon)),r})()})(),u),u.$$click=c=>{c.stopPropagation(),f()},_(d,k(F,{get when(){return!t()||t()&&a().length===0},get children(){return[(()=>{var c=Se();return I(r=>{var l=`p-abs ${p.productos_search_sin_resultados_layer_angle}`,v=te(ie);return l!==r.e&&w(c,r.e=l),v!==r.t&&U(c,"src",r.t=v),r},{e:void 0,t:void 0}),c})(),(()=>{var c=A();return _(c,(()=>{var r=S(()=>s().length===0);return()=>r()?Qr():eo()})()),I(()=>w(c,`p-abs flex-center ${p.productos_search_sin_resultados}`)),c})()]}}),null),_(d,k(F,{get when(){return S(()=>!!t())()&&a().length>0},get children(){return[(()=>{var c=Se();return I(r=>{var l=`p-abs ${p.productos_search_layer_angle}`,v=te(ie);return l!==r.e&&w(c,r.e=l),v!==r.t&&U(c,"src",r.t=v),r},{e:void 0,t:void 0}),c})(),(()=>{var c=Jr(),r=c.firstChild;return _(r,()=>a().map(l=>S(()=>l.productos.map((v,x)=>(()=>{var P=to();return _(P,x===0&&(()=>{var M=ro();return M.style.setProperty("overflow","hidden"),_(M,()=>l.categoria.toUpperCase()),M})(),null),_(P,k(co,{producto:v,get searchText(){return s()}}),null),P})())))),I(l=>{var v=`p-abs ${p.productos_search_layer}`,x={[p.productos_search_layer_mobile]:[3].includes(R())},P="w100 "+p.producto_filter_container,M={[p.is_mobile]:[3].includes(R())};return v!==l.e&&w(c,l.e=v),l.t=T(c,x,l.t),P!==l.a&&w(r,l.a=P),l.o=T(r,M,l.o),l},{e:void 0,t:void 0,a:void 0,o:void 0}),c})()]}}),null),I(c=>{var r=`p-rel flex jc-center ${p.productos_search_bar_cnt}`,l={[p.productos_search_input]:[1,2].includes(R()),[p.productos_search_input_mobile]:[3].includes(R())},v=[1,2].includes(R())?"Busca productos...":"Buscar..",x=`p-abs flex-center ${p.productos_search_close_button}`,P=t()?"block":void 0;return r!==c.e&&w(d,c.e=r),c.t=T(n,l,c.t),v!==c.a&&U(n,"placeholder",c.a=v),x!==c.o&&w(u,c.o=x),P!==c.i&&((c.i=P)!=null?u.style.setProperty("display",P):u.style.removeProperty("display")),c},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),d})()};ge(["click","mousedown","keydown"]);let _e;const io=()=>{const[e,o]=L(null),a=t=>{const i={departamentos:[],provincias:[],distritos:[],ciudadHijosMap:new Map,ciudadesMap:new Map};for(const s of t)i.ciudadesMap.set(s.ID,s),s.ID.length===6?i.distritos.push(s):s.ID.length===4?i.provincias.push(s):s.ID.length===2&&i.departamentos.push(s),s.PadreID&&(i.ciudadHijosMap.has(s.PadreID)?i.ciudadHijosMap.get(s.PadreID).push(s):i.ciudadHijosMap.set(s.PadreID,[s]));return i},h="./assets/peru_ciudades.json";return _e||(_e=new Promise((t,i)=>{fetch(h).then(s=>s.json()).then(s=>{console.log("ciudades obtenidas::",s);const y=a(s);t(y)}).catch(s=>{i(s)})})),_e.then(t=>{o(t)}),[e]},so=e=>{const[o]=io(),[a,h]=L({departamentoID:"",distritoID:"",provinciaID:""}),[t,i]=L(!0),[s,y]=L([]),[$,b]=L([]),[f,d]=L([]);W(()=>{if(o()&&(i(!1),y(o().departamentos),e.save&&e.saveOn)){const n=o().ciudadesMap.get(e.saveOn[e.save]);if(console.log("ciudad::",n),n){const u=a();if(n.ID.length===2)u.departamentoID=n.ID;else if(n.ID.length===4)u.departamentoID=n.PadreID,u.provinciaID=n.ID;else{const g=o().ciudadesMap.get(n.PadreID);u.departamentoID=g.PadreID,u.provinciaID=n.PadreID,u.distritoID=n.ID}u.departamentoID&&b(o().ciudadHijosMap.get(u.departamentoID)),u.provinciaID&&d(o().ciudadHijosMap.get(u.provinciaID))}console.log("ciudades save on::",e.saveOn,a())}});const m=()=>{if(!e.saveOn||!e.save)return;const n=a().distritoID||a().provinciaID||a().departamentoID||"";e.saveOn[e.save]=n,e.onChange&&e.onChange()};return[k(le,{label:"Departamento",keys:"ID.Nombre",get options(){return s()},required:!0,get saveOn(){return a()},save:"departamentoID",get css(){return(e.css||[])[0]||""},get showLoading(){return t()},onChange:n=>{console.log("departamento::",n),a().distritoID=null,a().provinciaID=null,b(o().ciudadHijosMap.get(n.ID)),d([]),m()}}),k(le,{label:"Provincia",keys:"ID.Nombre",required:!0,get options(){return $()},get disabled(){return $().length===0},get saveOn(){return a()},save:"provinciaID",get css(){return(e.css||[])[0]||""},get showLoading(){return t()},onChange:n=>{a().distritoID=null,d(o().ciudadHijosMap.get(n.ID)),m()}}),k(le,{label:"Distrito",keys:"ID.Nombre",required:!0,get saveOn(){return a()},save:"distritoID",get options(){return f()},get disabled(){return f().length===0},get css(){return(e.css||[])[0]||""},get showLoading(){return t()},onChange:()=>{m()}})]};var lo=C('<div class="w100 flex mb-08"><div class="ff-bold-italic fs20">Total a pagar:</div><div class="ml-04 ff-bold fs20 c-blue">s/. </div><div class=mr-auto></div><button>Continuar <i class=icon-right>'),_o=C("<div>"),uo=C('<div class="w100 flex mb-08"><div class="ff-bold-italic fs20">Total a pagar:</div><div class="ml-04 ff-bold fs20 c-blue">s/. </div><div class=mr-auto></div><button>Relizar Pago <i class=icon-right>'),po=C('<div class="flex-wrap w100-10">'),mo=C('<div><div class="w100 mt-08">'),vo=C("<span>Datos de <br>Envío"),go=C("<span>Confirmación"),fo=C("<div><i></i><div>");const[ue,ae]=L(1),[G,ho]=L({}),Me={},q=()=>{he(async()=>{const e=G(),o=[];for(const a of Object.keys(e)){const h=Me[a]||"",t=e[a]||"";h!==t&&(Me[a]=t,o.push({formID:1,key:a,value:t}))}o.length>0&&(await He("forms")).bulkPut(o)},500)},Le=e=>{const o=S(()=>{let a=0;for(const h of D().values())a+=h.cant*h.producto.PrecioFinal;return a});return He("forms").then(a=>{a.where({formID:1}).toArray().then(h=>{const t={};for(const i of h)t[i.key]=i.value;ho(t)})}),(()=>{var a=mo(),h=a.firstChild;return _(a,k(Ue,{get selected(){return ue()},options:[{id:1,name:"Carrito",icon:"icon-basket"},{id:2,name:"Datos de Envío",icon:"icon-doc-inv-alt"},{id:3,name:"Pago",icon:"icon-shield"},{id:4,name:"Confirmación",icon:"icon-ok"}],onSelect:t=>{ae(t.id)},optionRender:t=>{let i=t.name;return t.id===2?i=vo():t.id===4&&(i=go()),(()=>{var s=fo(),y=s.firstChild,$=y.nextSibling;return y.style.setProperty("margin-left","-6px"),_($,i),I(b=>{var f=`flex ai-center mt-01 ff-semibold ${p.menu_cart_layer_header_button}`,d=`h3 ${t.icon} mr-02`,m=p.menu_cart_layer_header_button_name;return f!==b.e&&w(s,b.e=f),d!==b.t&&w(y,b.t=d),m!==b.a&&w($,b.a=m),b},{e:void 0,t:void 0,a:void 0}),s})()}}),h),_(a,k(F,{get when(){return ue()===1},get children(){return[(()=>{var t=lo(),i=t.firstChild,s=i.nextSibling;s.firstChild;var y=s.nextSibling,$=y.nextSibling;return _(s,()=>V(o()/100,2),null),$.$$click=b=>{b.stopPropagation(),ae(2)},I(()=>w($,`mr-20 ${p.cart_button_1}`)),t})(),(()=>{var t=_o();return _(t,k(fe,{get each(){return Array.from(D().values())},children:i=>(console.log("rendering productos::",D()),k(Ne,{get producto(){return i.producto},get cant(){return i.cant},mode:2}))})),I(()=>w(t,`h100 w100 grid ${p.menu_cart_layer_products}`)),t})()]}}),null),_(a,k(F,{get when(){return ue()===2},get children(){return[(()=>{var t=uo(),i=t.firstChild,s=i.nextSibling;s.firstChild;var y=s.nextSibling,$=y.nextSibling;return _(s,()=>V(o()/100,2),null),$.$$click=b=>{b.stopPropagation(),ae(3)},I(()=>w($,`mr-20 ${p.cart_button_1}`)),t})(),(()=>{var t=po();return _(t,k(X,{label:"Nombres",get saveOn(){return G()},save:"nombres",css:"w-12x mb-10",required:!0,onChange:()=>q()}),null),_(t,k(X,{label:"Apellidos",get saveOn(){return G()},save:"apellidos",css:"w-12x mb-10",required:!0,onChange:()=>q()}),null),_(t,k(X,{label:"Correo Electrónico",get saveOn(){return G()},save:"email",css:"w-12x mb-10",required:!0,onChange:()=>q()}),null),_(t,k(so,{css:["w-12x mb-10","w-12x mb-10","w-12x mb-10"],get saveOn(){return G()},save:"ciudadID",onChange:()=>q()}),null),_(t,k(X,{label:"Dirección",get saveOn(){return G()},save:"direccion",css:"w-24x mb-10",required:!0,onChange:()=>q()}),null),_(t,k(X,{label:"Referencia",get saveOn(){return G()},save:"referencia",css:"w-24x mb-10",onChange:()=>q()}),null),t})()]}}),null),I(()=>w(a,`w100 ${p.menu_cart_layer_container}`)),a})()};ge(["click"]);var bo=C('<div class="header1-menu1 flex"><div class="flex ai-center jc-between w100"><div></div><div>'),wo=C('<div class="header1-menu2 flex jc-between ai-center w100"><div></div><div class="flex p-rel h100 ai-center"><div><div><i class=icon-basket></i>Carrito</div></div><div class="p-rel flex h4 ai-center mt-04 ml-08 mr-08"><i class=icon-user></i>Usuario'),Re=C("<div><img>"),yo=C("<div><div><i class=icon-menu>"),$o=C("<div><i class=icon-basket>"),xo=C("<div>"),ko=C("<div><div><i class=icon-cancel>");const[j,Q]=L(!1);function Co(e){let o,a,h=0,t;const i=Je(),s=()=>{if(!o||!a)return;h=o.getBoundingClientRect().height,t=0;let f=a;for(;f;)t+=a.offsetTop,f=f.offsetParent;i.innerHeight},y=()=>{if(!a)return;(typeof t!="number"||!h)&&s();let f=i.scrollY-15;console.log("haciendo scroll",h,i.scrollY),i.scrollY>h+8?a.classList.add("menu-on"):f<t&&a.classList.remove("menu-on")};i.addEventListener("scroll",y),i.addEventListener("resize",y),W(()=>{y()}),W(()=>{console.log(e.args)});let $;const b=S(ce(()=>[j()],()=>{if(!$)return{};const f=$.parentElement.getBoundingClientRect(),d=document.body.offsetWidth-f.right,m=Math.floor(d+f.width/2);return{right:d,angleRight:m}}));return[S(()=>S(()=>!![1].includes(R()))()&&(()=>{var f=bo(),d=f.firstChild,m=d.firstChild,n=m.nextSibling,u=o;return typeof u=="function"?ee(u,f):o=f,_(m,()=>e.args.Title),_(n,()=>e.args.Subtitle),f})()),S(()=>S(()=>!![1].includes(R()))()&&(()=>{var f=wo(),d=f.firstChild,m=d.nextSibling,n=m.firstChild,u=n.firstChild,g=a;typeof g=="function"?ee(g,f):a=f,d.style.setProperty("min-width","10rem"),_(f,k(ze,{}),m),u.$$click=r=>{r.stopPropagation(),j()?Q(!1):Q(!0)};var c=$;return typeof c=="function"?ee(c,u):$=u,_(n,(()=>{var r=S(()=>!!j());return()=>r()&&(()=>{var l=Re(),v=l.firstChild;return _(l,k(Le,{}),null),I(x=>{var P=`${p.menu_cart_layer}`,M=`calc(1.2rem - ${b().right}px)`,O=`p-abs ${p.menu_cart_layer_angle}`,H=`calc(${b().angleRight}px - 1.2rem - 16px)`,Y=te(ie);return P!==x.e&&w(l,x.e=P),M!==x.t&&((x.t=M)!=null?l.style.setProperty("right",M):l.style.removeProperty("right")),O!==x.a&&w(v,x.a=O),H!==x.o&&((x.o=H)!=null?v.style.setProperty("right",H):v.style.removeProperty("right")),Y!==x.i&&U(v,"src",x.i=Y),x},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),l})()})(),null),I(r=>{var l=`p-rel h100 flex ai-center jc-center ml-08 mr-08 ${p.menu_cart_layer_btn_ctn}`,v=`p-rel flex-center w100 h4 mt-02 ${p.menu_cart_layer_btn}`,x={[p.menu_cart_layer_btn_selected]:!!j()};return l!==r.e&&w(n,r.e=l),v!==r.t&&w(u,r.t=v),r.a=T(u,x,r.a),r},{e:void 0,t:void 0,a:void 0}),f})()),S(()=>S(()=>![1].includes(R()))()&&(()=>{var f=yo(),d=f.firstChild;return _(f,k(ze,{}),null),_(f,(()=>{var m=S(()=>!j());return()=>m()&&(()=>{var n=$o(),u=n.firstChild;return n.$$click=g=>{g.stopPropagation(),Q(!0)},_(n,(()=>{var g=S(()=>D().size>0);return()=>g()&&(()=>{var c=xo();return _(c,()=>D().size),I(()=>w(c,`p-abs flex-center ${p.top_bar_mobile_icon_counter}`)),c})()})(),u),I(g=>{var c=`ml-auto ${p.top_bar_mobile_icon}`,r=D().size>0?"-6px":void 0,l=D().size>0?"-4px":void 0;return c!==g.e&&w(n,g.e=c),r!==g.t&&((g.t=r)!=null?u.style.setProperty("margin-bottom",r):u.style.removeProperty("margin-bottom")),l!==g.a&&((g.a=l)!=null?u.style.setProperty("margin-left",l):u.style.removeProperty("margin-left")),g},{e:void 0,t:void 0,a:void 0}),n})()})(),null),_(f,(()=>{var m=S(()=>!!j());return()=>m()&&(()=>{var n=ko(),u=n.firstChild;return n.$$click=g=>{g.stopPropagation(),Q(!1)},I(g=>{var c=`ml-auto flex-center ${p.top_bar_mobile_icon}`,r=`flex-center ml-04 ${p.top_bar_cart_icon_cancel}`;return c!==g.e&&w(n,g.e=c),r!==g.t&&w(u,g.t=r),g},{e:void 0,t:void 0}),n})()})(),null),_(f,(()=>{var m=S(()=>!!j());return()=>m()&&(()=>{var n=Re(),u=n.firstChild;return u.style.setProperty("right","1.1rem"),_(n,k(Le,{}),null),I(g=>{var c=`${p.menu_cart_layer}`,r=`calc(1.2rem - ${b().right}px)`,l=`p-abs ${p.menu_cart_layer_angle}`,v=te(ie);return c!==g.e&&w(n,g.e=c),r!==g.t&&((g.t=r)!=null?n.style.setProperty("right",r):n.style.removeProperty("right")),l!==g.a&&w(u,g.a=l),v!==g.o&&U(u,"src",g.o=v),g},{e:void 0,t:void 0,a:void 0,o:void 0}),n})()})(),null),I(m=>{var n=`${p.top_bar_mobile} flex ai-center mr-08`,u=p.top_bar_mobile_icon;return n!==m.e&&w(f,m.e=n),u!==m.t&&w(d,m.t=u),m},{e:void 0,t:void 0}),f})())]}ge(["click"]);class z{constructor(o,a,h,t){this.id=o,this.type=h,this.name=a,this.key=t}id;type;name;key;content;as=o=>new z(this.id,o,this.type,this.key)}const ve={Title:new z(1,"Título",1),Subtitle:new z(2,"Subtítulo",1),Content:new z(3,"Contenido",2),ContentArray:new z(4,"Contenidos",3),BackgroundImage:new z(5,"Image de Fondo",5),Content_1:new z(11,"Contenido 1",2),Content_2:new z(12,"Contenido 2",2),Content_3:new z(13,"Contenido 3",2),Image:new z(15,"Imágen",5),ImagesGalery:new z(16,"Imágenes (Galería)",7),Categorias:new z(13,"Productos Categorías",8),ColumnsCant:new z(31,"Nº Columnas",2),RowsCant:new z(32,"Nº Filas",2),Check_1:new z(41,"Check 1",4),Check_2:new z(42,"Check 2",4),Check_3:new z(43,"Check 3",4),Check_4:new z(44,"Check 4",4),Check_5:new z(45,"Check 5",4)};for(const e in ve)ve[e].key=e;const Io="_cms_editable_card_eq22u_1",So="_cms_card_button_up_eq22u_8",Po="_cms_card_button_down_eq22u_8",pe={cms_editable_card:Io,cms_card_button_up:So,cms_card_button_down:Po};var Do=C("<div>"),zo=C('<div><div><i class="icon-plus h6"></i>Sección</div><div><i class="icon-plus h6"></i>Sección');const E=ve,Mo=[{type:1,name:"Basic Section",render:e=>k(it,{get args(){return e.args}}),params:[E.Title,E.Subtitle,E.Content]},{type:10,name:"Header 1",render:e=>k(Co,{get args(){return e.args}}),params:[E.Title,E.Subtitle,E.Content]},{type:21,name:"Layer Image 21",render:e=>k(ct,{get args(){return e.args}}),params:[E.Title,E.Subtitle,E.Content,E.Image]},{type:41,name:"Productos Cuadrilla",render:e=>k(oo,{get args(){return e.args}}),params:[E.Content]},{type:9998,name:"Demo 1",render:e=>k(at,{get args(){return e.args}}),params:[]},{type:9999,name:"Big Scroll",render:e=>k(nt,{get args(){return e.args}}),params:[]}],Te=e=>{for(const o of Mo)if(e.type===o.type)return o.render(e);return Do()};function Go(e){return[k(fe,{get each(){return e.sections},children:o=>e.isEditable?(()=>{var a=zo(),h=a.firstChild,t=h.nextSibling;return _(a,k(Te,{args:o,get type(){return o.type}}),t),I(i=>{var s=`p-rel w100 ${pe.cms_editable_card}`,y=`flex ai-center p-abs ff-bold ${pe.cms_card_button_up}`,$=`flex ai-center p-abs ff-bold ${pe.cms_card_button_down}`;return s!==i.e&&w(a,i.e=s),y!==i.t&&w(h,i.t=y),$!==i.a&&w(t,i.a=$),i},{e:void 0,t:void 0,a:void 0}),a})():k(Te,{args:o,get type(){return o.type}})}),k(no,{}),k(F,{get when(){return!!K()},get children(){return k(ao,{})}})]}export{Te as PageSectionRenderer,Mo as componentsRenders,Go as default};
