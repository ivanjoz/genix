import{d as O,a as _,g as k,i as y,f as x,u as E,b as h,k as w,e as b,c as S,t as C}from"./web-D2t8vN-4.js";var B=C("<div><div>"),L=C('<i class="icon-attention c-red">'),R=C('<div class="flex ai-center cell-ed h100 w100"><input>'),T=C("<div>"),q=C('<div class="card-c3 flex ai-center mt-03 mb-03 ml-04 mr-04 p-rel overflow-hidden"><div class="nowrap px-06 mt-01">'),z=C("<input class=p-abs>");function I(e){const[i,f]=_(!1);let u=e.getValue?e.getValue(e.saveOn):(e.saveOn||{})[e.save];const[s,g]=_(u),a=t=>(e.type==="number"&&(t=parseFloat(t||"0")),t),c=t=>{e.saveOn[e.save]=a(t),g(t)};let l;k(()=>{i()&&l&&l.focus()});const n=()=>e.render?e.render(s(),i()):s();return(()=>{var t=B(),o=t.firstChild;return o.$$click=r=>{r.stopPropagation(),u=s(),f(!0)},y(o,n,null),y(o,(()=>{var r=x(()=>!!(!s()&&e.required));return()=>r()&&L()})(),null),y(t,(()=>{var r=x(()=>!!i());return()=>r()&&(()=>{var V=R(),v=V.firstChild;v.addEventListener("blur",d=>{d.stopPropagation();const $=a(d.target.value);u!==$&&(u=$,e.onChange&&e.onChange($)),f(!1)}),v.$$keyup=d=>{d.stopPropagation(),c(d.target.value)};var m=l;return typeof m=="function"?E(m,v):l=v,v.autofocus=!0,h(d=>{var $=e.type||"text",P="w100 "+(e.inputClass||"");return $!==d.e&&w(v,"type",d.e=$),P!==d.t&&b(v,d.t=P),d},{e:void 0,t:void 0}),h(()=>v.value=s()||""),V})()})(),null),h(r=>{var V="cell-ed-c flex ai-center p-rel "+(e.class||""),v="h100 w100 "+(e.contentClass||""),m=i()?"hidden":"visible";return V!==r.e&&b(t,r.e=V),v!==r.t&&b(o,r.t=v),m!==r.a&&((r.a=m)!=null?o.style.setProperty("visibility",m):o.style.removeProperty("visibility")),r},{e:void 0,t:void 0,a:void 0}),t})()}function M(e){const i=e.getValue||(a=>a),f=e.setValue||((a,c)=>c),u=(e.saveOn[e.save]||[]).filter(a=>a);u.push(f({},""));const[s,g]=_(u);return(()=>{var a=T();return y(a,()=>s().map((c,l)=>e.skipt&&e.skipt(c)?null:S(A,{get defaultValue(){return i(c)},onBlur:n=>{let t=[...s()];t[l]=f(t[l],n),t=t.filter(o=>i(o)),e.saveOn[e.save]=t,t.push(f({},"")),console.log("nuevos valores:: ",[...t]),g(t)}}))),h(()=>b(a,"flex-wrap ai-center p-rel "+(e.class||""))),a})()}function A(e){const[i,f]=_(e.defaultValue),[u,s]=_(!1);k(()=>{f(e.defaultValue)});let g;return k(()=>{u()&&g&&g.focus()}),(()=>{var a=q(),c=a.firstChild;return a.$$click=l=>{l.stopPropagation(),s(!0),console.log("hizo click()")},y(a,(()=>{var l=x(()=>!!u());return()=>l()&&(()=>{var n=z();n.addEventListener("blur",()=>{e.onBlur(i()),s(!1)}),n.$$keyup=o=>{o.stopPropagation(),f(o.target.value)};var t=g;return typeof t=="function"?E(t,n):g=n,n.autofocus=!0,n.style.setProperty("padding-right","0"),h(()=>n.value=i()),n})()})(),c),y(c,i),h(l=>(l=u()?"0.8rem":void 0)!=null?c.style.setProperty("padding-right",l):c.style.removeProperty("padding-right")),a})()}O(["click","keyup"]);export{I as C,M as a};
