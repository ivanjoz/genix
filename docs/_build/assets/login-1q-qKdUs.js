import{a as C,o as L,g as I,b as g,i as d,c as p,r as E,d as P,t as k}from"./web-CZ5hrCiI.js";import{m as N,a as m,E as t,s as A,c as M,L as b,i as U}from"./main-C-D57zym.js";import{I as u}from"./Input-CDYNTxzY.js";import{P as O}from"./http-C-zenNQH.js";async function j(e){let s;e.CipherKey=N(32);try{s=await O({data:e,route:"p-user-login",apiName:"MAIN",headers:{"Content-Type":"application/json"}})}catch(r){return console.log(r),{error:r}}let a="";try{await m.parseAccesos(s,e.CipherKey),m.checkAcceso(1)?(A(M()),t.navigate("/")):t.clearAccesos()}catch(r){console.log("error encriptando::"),console.log(r)}return console.log(a),{result:s}}var q=k('<div class=p-rel><img class=bg-image-1 src=images/background-1.webp alt=""><div class="flex ai-center h100 login-bg-c1 p-rel"><div class="login-bg-1 w100"><div class="login-tt flex ai-center h2">Iniciar Sesión</div><div class="login-logo-c p-rel mb-08"><img class="w100 h100"src=/images/genix_logo.svg alt="Genix Logo"></div><div class="flex-center h2 ff-bold c-steel4 mb-16">Gestor Empresarial en la Nube para MyPes</div><!$><!/><!$><!/><div class="flex w100 jc-center ai-center"><button class="bn1 big d-blue"><i class=icon-login></i> Ingresar');const F=async e=>{b.standard("Enviando Credenciales..."),e.EmpresaID=1;const s=await j(e);console.log(s),s.error,b.remove()};function D(){const[e,s]=C({Usuario:"",Password:""});return L(()=>{U()===2&&t.navigate("/")}),(()=>{var a=I(q),r=a.firstChild,v=r.nextSibling,n=v.firstChild,f=n.firstChild,$=f.nextSibling,x=$.nextSibling,_=x.nextSibling,[l,h]=g(_.nextSibling),S=l.nextSibling,[o,y]=g(S.nextSibling),c=o.nextSibling,w=c.firstChild;return d(n,p(u,{required:!0,css:"mb-12 w100 big-1",label:"Usuario",get saveOn(){return e()},save:"Usuario",type:"text",validator:i=>!!i&&String(i||"").length>4}),l,h),d(n,p(u,{required:!0,css:"mb-12 w100 big-1",label:"Contraseña",get saveOn(){return e()},save:"Password",type:"password",validator:i=>!!i&&String(i||"").length>4}),o,y),c.style.setProperty("margin-top","1.4rem"),w.$$click=i=>{i.stopPropagation(),F(e())},E(),a})()}P(["click"]);export{D as default};
