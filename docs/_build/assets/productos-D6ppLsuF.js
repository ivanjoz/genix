import{m as u,c as i,b as s,G as a,N as c}from"./app-wv8zGSIX.js";const l=()=>u({route:"productos",emptyValue:[],errorMessage:"Hubo un error al obtener los productos.",cacheSyncTime:1,mergeRequest:!0,useIndexDBCache:"productos"},o=>{console.log("result productos 1:: ",o);const r=o;for(let e of r.Records)e.Propiedades=e.Propiedades||[],e.Images?.length>0&&(e.Image=e.Images[e.Images.length-1]);return console.log("result productos:: ",r),r.productos=(r.Records||[]).filter(e=>e.ss>0),r.productosMap=i(r.productos,"ID"),r}),m=o=>s({data:o,route:"productos",refreshIndexDBCache:"productos"}),p=async o=>{let r=[];try{r=(await a({route:"productos-stock",emptyValue:[],errorMessage:"Hubo un error al obtener el stock.",cacheSyncTime:1,mergeRequest:!0,useIndexDBCache:"productos_stock",partition:{key:"AlmacenID",value:o,param:"almacen-id"}})).Records||[]}catch(e){c.failure(e)}return r},f=o=>s({data:o,route:"productos-stock",refreshIndexDBCache:"productos_stock"}),h=[{id:1,name:"Entrada Manual"},{id:2,name:"Salida Manual"}],I=async o=>{let r=`almacen-movimientos?almacen-id=${o.almacenID}`;if(!o.fechaInicio||!o.fechaFin)throw"No se encontrÃ³ una fecha de inicio o fin.";r+=`&fecha-hora-inicio=${o.fechaInicio*24*60*60+window._zoneOffset}`,r+=`&fecha-hora-fin=${(o.fechaFin+1)*24*60*60+window._zoneOffset}`;let e;try{e=await a({route:r,emptyValue:[],errorMessage:"Hubo un error al obtener los movimientos del almacÃ©n"})}catch(t){c.failure(t)}return e.Usuarios=e.Usuarios||[],e.Productos=e.Productos||[],e.Movimientos=e.Movimientos||[],e.Movimientos.sort((t,n)=>n.Created-t.Created),e};export{m as a,p as g,h as m,f as p,I as q,l as u};
