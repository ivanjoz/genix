import{u as Y,b as Z,p as I,P as ee,_ as te,s as ne,c as F}from"./app-DXoIs7bk.js";import{a as C,k as se,c as g,d as re,j as f,g as m,i as p,F as L,b as v,e as S,r as A,s as oe,t as u,f as b}from"./web-CZ5hrCiI.js";import{I as W}from"./Input-CDYNTxzY.js";import{c as D,P as ae}from"./page-Qq0Z-onc.js";import{e as ce}from"./main-C-D57zym.js";import"./http-C-zenNQH.js";import"./Uploaders-CZbZ8hio.js";import"./store-DGzfqJJ9.js";const E="_webpage_dev_card_1k9d5_1",O="_cms_editable_card_selected_1k9d5_5",V="_cms_editable_card_1k9d5_5",j="_cms_card_buttons_1k9d5_15",M="_cms_card_button_1k9d5_15",B="_cs1_1k9d5_27",z="_seccion_card_1k9d5_36",ie={webpage_dev_card:E,cms_editable_card_selected:O,cms_editable_card:V,cms_card_buttons:j,cms_card_button:M,cs1:B,seccion_card:z},le=Object.freeze(Object.defineProperty({__proto__:null,cms_card_button:M,cms_card_buttons:j,cms_editable_card:V,cms_editable_card_selected:O,cs1:B,default:ie,seccion_card:z,webpage_dev_card:E},Symbol.toStringTag,{value:"Module"}));var _e=u('<div class="h100 p-rel cms-1">'),de=u("<div><!$><!/><!$><!/>"),pe=u("<div>Seleccione una sección para editar su contenido."),me=u("<div>--"),U=u("<div>"),ge=u("<div><!$><!/><!$><!/><!$><!/>"),ue=u('<div><div><i class="icon-plus h6"></i>Sección</div><div><!$><!/><!$><!/>'),$e=u("<i class=icon-up-1>"),fe=u("<i class=icon-down-1>");const[Ce,Ee]=C({});function Me(){const c=Y(),[i,o]=C(I),[a,$]=C(),[N,y]=C([]),R=ce(D,"type"),T=Z();se(()=>{te(()=>Promise.resolve().then(()=>le),void 0),ne(!1),console.log("params::",T.webpage),console.log("location:: ",c.pathname)});const h=(e,t)=>{const n=[],l={type:1,content:"demo",title:"demo"},r=i();console.log("args sections::",e,t);debugger;for(let _=0;_<r.length;_++)t===1&&e===_&&n.push(l),n.push(r[_]),t===2&&e===_&&n.push(l);console.log("nuevas seccciones::",n),o(n)},P=(e,t)=>{let n=!1;if((e===i().length-1&&t===2||e===0&&t===1)&&(n=!0),n)return;const l=i()[e],r=i().filter(_=>_!==l);t===1?e--:t===2&&e++,r.splice(e,0,l),o(r)},s=e=>{const t=[];for(const n of i())n.id===e.id?t.push(e):t.push(n);$(e),o(t)};return g(ee,{title:"Webpage",class:"",views:[[1,"Constructor"],[2,"Secciones"]],pageStyle:{display:"grid","grid-template-columns":"1.1fr 4fr",padding:"0","background-color":"white"},get children(){return[f(()=>f(()=>F()===1)()&&(()=>{var e=m(de),t=e.firstChild,[n,l]=v(t.nextSibling),r=n.nextSibling,[_,x]=v(r.nextSibling);return p(e,(()=>{var d=f(()=>!a());return()=>d()&&m(pe)})(),n,l),p(e,g(L,{get each(){return N()},children:d=>{console.log("section params::",d);const k=()=>{const w={...a()};s(w)};return d.type===1?g(W,{css:"mb-10",inputCss:"s5",get label(){return d.name},get save(){return d.key},get saveOn(){return a()},onChange:()=>{k()}}):d.type===2?g(W,{css:"mb-10",inputCss:"s5",get label(){return d.name},get save(){return d.key},get saveOn(){return a()},useTextArea:!0,onChange:()=>{k()}}):m(me)}}),_,x),S(()=>b(e,`h100 px-08 py-08 p-rel flex-column ${E}`)),e})()),f(()=>f(()=>F()===2)()&&(()=>{var e=m(U);return p(e,()=>D.map(t=>{const n=f(()=>a()?.type===t.type);return g(ve,{params:t,get isSelected(){return n()},onSelect:()=>{if(a()){const l={...a()};l.type=t.type,s(l)}}})})),S(()=>b(e,`h100 px-08 py-08 p-rel flex-column ${E}`)),e})()),(()=>{var e=m(_e);return e.style.setProperty("overflow","auto"),e.style.setProperty("max-height","calc(100vh - var(--header-height))"),e.style.setProperty("padding","2px"),e.style.setProperty("z-index","999"),e.style.setProperty("margin-left","-2px"),p(e,g(L,{get each(){return i()},children:(t,n)=>{const l=()=>{let r=`p-rel w100 ${V}`;return a()?.id===t.id&&(r+=` ${O}`),r};return t.marginTop&&(t.marginTop=void 0),t.marginBottom&&(t.marginBottom=void 0),(()=>{var r=m(ge),_=r.firstChild,[x,d]=v(_.nextSibling),k=x.nextSibling,[w,q]=v(k.nextSibling),G=w.nextSibling,[J,K]=v(G.nextSibling);return r.$$click=Q=>{Q.stopPropagation(),$(t);const X=R.get(t.type)?.params||[];y(X)},p(r,g(H,{mode:1,onAddSeccion:()=>h(n(),1),onMoveSeccion:()=>P(n(),1)}),x,d),p(r,g(ae,{args:t,get type(){return t.type}}),w,q),p(r,g(H,{mode:2,onAddSeccion:()=>h(n(),2),onMoveSeccion:()=>P(n(),2)}),J,K),S(()=>b(r,l())),A(),r})()}})),e})()]}})}const H=c=>{const i={};return c.mode===1&&(i.top="0"),c.mode===2&&(i.bottom="0"),(()=>{var o=m(ue),a=o.firstChild,$=a.nextSibling,N=$.firstChild,[y,R]=v(N.nextSibling),T=y.nextSibling,[h,P]=v(T.nextSibling);return oe(o,i),a.$$click=s=>{s.stopPropagation(),c.onAddSeccion()},$.$$click=s=>{s.stopPropagation(),c.onMoveSeccion()},p($,(()=>{var s=f(()=>c.mode===1);return()=>s()&&m($e)})(),y,R),p($,(()=>{var s=f(()=>c.mode===2);return()=>s()&&m(fe)})(),h,P),S(s=>{var e=`flex p-abs ${j}`,t=`flex ai-center p-rel ff-bold mr-06 ${M}`,n=`flex ai-center p-rel ff-bold mr-06 ${M} ${B}`;return e!==s.e&&b(o,s.e=e),t!==s.t&&b(a,s.t=t),n!==s.a&&b($,s.a=n),s},{e:void 0,t:void 0,a:void 0}),A(),o})()},ve=c=>{const i=()=>{let o=`mt-04 mb-04 ${z}`;return c.isSelected&&(o+=" selected"),o};return(()=>{var o=m(U);return o.$$click=a=>{a.stopPropagation(),c.onSelect()},p(o,()=>c.params.name),S(()=>b(o,i())),A(),o})()};re(["click"]);export{Me as default,Ce as pageViews,Ee as setPageViews};
