import{d as O,a as _,g as x,i as y,f as P,u as E,b as h,j as w,e as b,c as S,t as C}from"./web-B5q02dNy.js";var B=C("<div><div>"),L=C('<i class="icon-attention c-red">'),R=C('<div class="flex ai-center cell-ed h100 w100"><input>'),T=C("<div>"),j=C('<div class="card-c3 flex ai-center mt-03 mb-03 ml-04 mr-04 p-rel overflow-hidden"><div class="nowrap px-06 mt-01">'),q=C("<input class=p-abs>");function F(e){const[u,f]=_(!1);let i=e.getValue?e.getValue(e.saveOn):(e.saveOn||{})[e.save];const[s,g]=_(i),a=t=>(e.type==="number"&&(t=parseFloat(t||"0")),t),c=t=>{e.saveOn[e.save]=a(t),g(t)};let l;x(()=>{u()&&l&&l.focus()});const n=()=>e.render?e.render(s(),u()):s();return(()=>{var t=B(),o=t.firstChild;return o.$$click=r=>{r.stopPropagation(),i=s(),f(!0)},y(o,n,null),y(o,(()=>{var r=P(()=>!!(!s()&&e.required));return()=>r()&&L()})(),null),y(t,(()=>{var r=P(()=>!!u());return()=>r()&&(()=>{var V=R(),v=V.firstChild;v.addEventListener("blur",d=>{d.stopPropagation();debugger;const $=a(d.target.value);i!==$&&(i=$,e.onChange&&e.onChange($)),f(!1)}),v.$$keyup=d=>{d.stopPropagation(),c(d.target.value)};var m=l;return typeof m=="function"?E(m,v):l=v,v.autofocus=!0,h(d=>{var $=e.type||"text",k="w100 "+(e.inputClass||"");return $!==d.e&&w(v,"type",d.e=$),k!==d.t&&b(v,d.t=k),d},{e:void 0,t:void 0}),h(()=>v.value=s()||""),V})()})(),null),h(r=>{var V="cell-ed-c flex ai-center p-rel "+(e.class||""),v="h100 w100 "+(e.contentClass||""),m=u()?"hidden":"visible";return V!==r.e&&b(t,r.e=V),v!==r.t&&b(o,r.t=v),m!==r.a&&((r.a=m)!=null?o.style.setProperty("visibility",m):o.style.removeProperty("visibility")),r},{e:void 0,t:void 0,a:void 0}),t})()}function I(e){const u=e.getValue||(a=>a),f=e.setValue||((a,c)=>c),i=(e.saveOn[e.save]||[]).filter(a=>a);i.push(f({},""));const[s,g]=_(i);return(()=>{var a=T();return y(a,()=>s().map((c,l)=>e.skipt&&e.skipt(c)?null:S(z,{get defaultValue(){return u(c)},onBlur:n=>{let t=[...s()];t[l]=f(t[l],n),t=t.filter(o=>u(o)),e.saveOn[e.save]=t,t.push(f({},"")),console.log("nuevos valores:: ",[...t]),g(t)}}))),h(()=>b(a,"flex-wrap ai-center p-rel "+(e.class||""))),a})()}function z(e){const[u,f]=_(e.defaultValue),[i,s]=_(!1);x(()=>{f(e.defaultValue)});let g;return x(()=>{i()&&g&&g.focus()}),(()=>{var a=j(),c=a.firstChild;return a.$$click=l=>{l.stopPropagation(),s(!0),console.log("hizo click()")},y(a,(()=>{var l=P(()=>!!i());return()=>l()&&(()=>{var n=q();n.addEventListener("blur",()=>{e.onBlur(u()),s(!1)}),n.$$keyup=o=>{o.stopPropagation(),f(o.target.value)};var t=g;return typeof t=="function"?E(t,n):g=n,n.autofocus=!0,n.style.setProperty("padding-right","0"),h(()=>n.value=u()),n})()})(),c),y(c,u),h(l=>(l=i()?"0.8rem":void 0)!=null?c.style.setProperty("padding-right",l):c.style.removeProperty("padding-right")),a})()}O(["click","keyup"]);export{F as C,I as a};
