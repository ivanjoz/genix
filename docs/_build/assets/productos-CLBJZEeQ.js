import{h as i,e as d,P as a,G as c,N as n,E as s}from"./Input-Cf7HKpQs.js";const m=()=>i({route:"productos",emptyValue:[],errorMessage:"Hubo un error al obtener los productos.",cacheSyncTime:1,mergeRequest:!0,useIndexDBCache:"productos"},o=>{console.log("result productos 1:: ",o);const r=o;for(let e of r.Records)e.Propiedades=e.Propiedades||[],e.Images?.length>0&&(e.Image=e.Images[e.Images.length-1]);return console.log("result productos:: ",r),r.productos=(r.Records||[]).filter(e=>e.ss>0),r.productosMap=d(r.productos,"ID"),r}),p=o=>a({data:o,route:"productos",refreshIndexDBCache:"productos"}),f=async o=>{let r=[];try{r=(await c({route:"productos-stock",emptyValue:[],errorMessage:"Hubo un error al obtener el stock.",cacheSyncTime:1,mergeRequest:!0,useIndexDBCache:"productos_stock",partition:{key:"AlmacenID",value:o,param:"almacen-id"}})).Records||[]}catch(e){n.failure(e)}return r},h=o=>a({data:o,route:"productos-stock",refreshIndexDBCache:"productos_stock"}),I=[{id:1,name:"Entrada Manual"},{id:2,name:"Salida Manual"}],y=async o=>{let r=`almacen-movimientos?almacen-id=${o.almacenID}`;if(!o.fechaInicio||!o.fechaFin)throw"No se encontrÃ³ una fecha de inicio o fin.";r+=`&fecha-hora-inicio=${o.fechaInicio*24*60*60+s.zoneOffset}`,r+=`&fecha-hora-fin=${(o.fechaFin+1)*24*60*60+s.zoneOffset}`;let e;try{e=await c({route:r,emptyValue:[],errorMessage:"Hubo un error al obtener los movimientos del almacÃ©n"})}catch(t){n.failure(t)}return e.Usuarios=e.Usuarios||[],e.Productos=e.Productos||[],e.Movimientos=e.Movimientos||[],e.Movimientos.sort((t,u)=>u.Created-t.Created),e};export{p as a,f as g,I as m,h as p,y as q,m as u};
