import{e as r,g as i,i as d,h as n}from"./DsnVzSLI.js";import{G as h,P as m}from"./Bz9XdVJx.js";class f extends h{route="sedes-almacenes";useCache={min:5,ver:1};#e=r(i([]));get Almacenes(){return d(this.#e)}set Almacenes(e){n(this.#e,e,!0)}#s=r(i(new Map));get AlmacenesMap(){return d(this.#s)}set AlmacenesMap(e){n(this.#s,e,!0)}#t=r(i([]));get Sedes(){return d(this.#t)}set Sedes(e){n(this.#t,e,!0)}#a=r(i(new Map));get SedesMap(){return d(this.#a)}set SedesMap(e){n(this.#a,e,!0)}handler(e){console.log("sedes almacenes::",e),this.Almacenes=e.Almacenes||[],this.Sedes=e.Sedes||[],this.SedesMap=new Map(this.Sedes.map(t=>[t.ID,t])),this.AlmacenesMap=new Map(this.Almacenes.map(t=>[t.ID,t]))}constructor(){super(),this.fetch()}}const S=c=>m({data:c,route:"sedes",refreshRoutes:["sedes-almacenes"]}),A=c=>m({data:c,route:"almacenes",refreshRoutes:["sedes-almacenes"]});class g extends h{route="pais-ciudades?pais-id=604";useCache={min:600,ver:1};#e=r(i([]));get ciudades(){return d(this.#e)}set ciudades(e){n(this.#e,e,!0)}#s=r(i([]));get distritos(){return d(this.#s)}set distritos(e){n(this.#s,e,!0)}#t=r(i(new Map));get ciudadesMap(){return d(this.#t)}set ciudadesMap(e){n(this.#t,e,!0)}handler(e){const t=e.Records?.filter(s=>!s._IS_META)||[],p=[],o=new Map(t.map(s=>[s.ID,s]));for(let s of t){const a=o.get(s.PadreID);if(s.Jerarquia===3&&p.push(s),a&&(a.Jerarquia===2?s.Provincia=a:a.Jerarquia===1&&(s.Departamento=a),a.PadreID&&o.has(a.PadreID))){const u=o.get(a.PadreID);u?.Jerarquia===2?s.Provincia=u:u?.Jerarquia===1&&(s.Departamento=u)}}for(let s of p)s._nombre=`${s.Departamento?.Nombre||"-"} ► ${s.Provincia?.Nombre||""} ► ${s.Nombre}`;this.ciudades=t,this.distritos=p,this.ciudadesMap=o}constructor(){super(),this.fetch()}}export{f as A,g as P,A as a,S as p};
