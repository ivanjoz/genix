import{a as C,o as L,g as I,b as g,i as d,c as p,r as E,d as P,t as k}from"./web-BZ6LonWj.js";import{m as N,P as A,a as b,E as t,s as M,c as U,L as m,I as u,i as O}from"./Input-Cf7HKpQs.js";async function j(e){let s;e.CipherKey=N(32);try{s=await A({data:e,route:"p-user-login",apiName:"MAIN",headers:{"Content-Type":"application/json"}})}catch(a){return console.log(a),{error:a}}let n="";try{await b.parseAccesos(s,e.CipherKey),b.checkAcceso(1)?(M(U()),t.navigate("/")):t.clearAccesos()}catch(a){console.log("error encriptando::"),console.log(a)}return console.log(n),{result:s}}var q=k('<div class=p-rel><img class=bg-image-1 src=images/background-1.webp alt=""><div class="flex ai-center h100 login-bg-c1 p-rel"><div class="login-bg-1 w100"><div class="login-tt flex ai-center h2">Iniciar Sesión</div><div class="login-logo-c p-rel mb-08"><img class="w100 h100"src=/images/genix_logo.svg alt="Genix Logo"></div><div class="flex-center h2 ff-bold c-steel4 mb-16">Gestor Empresarial en la Nube para MyPes</div><!$><!/><!$><!/><div class="flex w100 jc-center ai-center"><button class="bn1 big d-blue"><i class=icon-login></i> Ingresar');const F=async e=>{m.standard("Enviando Credenciales..."),e.EmpresaID=1;const s=await j(e);console.log(s),s.error,m.remove()};function K(){const[e,s]=C({Usuario:"",Password:""});return L(()=>{O()===2&&t.navigate("/")}),(()=>{var n=I(q),a=n.firstChild,v=a.nextSibling,r=v.firstChild,$=r.firstChild,f=$.nextSibling,x=f.nextSibling,_=x.nextSibling,[l,h]=g(_.nextSibling),S=l.nextSibling,[o,y]=g(S.nextSibling),c=o.nextSibling,w=c.firstChild;return d(r,p(u,{required:!0,css:"mb-12 w100 big-1",label:"Usuario",get saveOn(){return e()},save:"Usuario",type:"text",validator:i=>!!i&&String(i||"").length>4}),l,h),d(r,p(u,{required:!0,css:"mb-12 w100 big-1",label:"Contraseña",get saveOn(){return e()},save:"Password",type:"password",validator:i=>!!i&&String(i||"").length>4}),o,y),c.style.setProperty("margin-top","1.4rem"),w.$$click=i=>{i.stopPropagation(),F(e())},E(),n})()}P(["click"]);export{K as default};
