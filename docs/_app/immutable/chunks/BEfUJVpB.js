import"./DsnmJJEf.js";import{p as $,e as ee,g as te,l as N,h as A,i as v,f as u,a as ie,s as d,b as m,d as ae,c as o,r as n,t as L,u as E,D as se}from"./Bf0lWsRu.js";import{s as G}from"./WwA8pLij.js";import{s as P}from"./Csa_d837.js";import{i as y}from"./D7jGWfSg.js";import{a as re,b as B}from"./BWVkWQLM.js";import{s as w}from"./C7iUW-It.js";import{d as oe}from"./Cu2BEfFs.js";import{b as ne}from"./CPRIj_W5.js";import{p as de}from"./DEnCy23-.js";import{C as i,E as M}from"./D1d-xt8D.js";import{O as le}from"./aDfhI-Hz.js";var ve=u('<button class="bx-red mr-8 lh-10" aria-label="Eliminar"><i class="icon-trash"></i></button>'),ce=u('<button class="bx-blue mr-8 lh-10" aria-label="Guardar"><i></i> <span> </span></button>'),fe=u('<div><div class="flex items-center justify-between"><div> </div> <div class="shrink-0 flex items-center"><!> <!> <button class="bx-yellow" title="close"><i class="icon-cancel"></i></button></div></div> <!> <div><!></div></div>'),me=u('<div class="w-page"><!></div>'),ye=u("<!> <!>",1);function ze(V,e){$(e,!0);let l;const W=350;let _=ee(te(i.showSideLayer)),x=de(e,"selected",15);const S=E(()=>M.sideLayerSize?M.sideLayerSize+"px":""),j=E(()=>i.showSideLayer>0&&i.deviceType!==3?`calc(var(--page-width) - ${v(S)||"0"} - 8px)`:void 0),R=()=>{i.openSideLayer(0)};N(()=>{if(e.type!=="side"||i.deviceType!==3){A(_,i.showSideLayer,!0);return}if(v(_)!==i.showSideLayer){const s=i.showSideLayer===e.id,a=v(_)===e.id&&i.showSideLayer!==e.id;(s||a)&&document.startViewTransition&&l&&(l.style.setProperty("view-transition-name","mobile-side-layer"),document.startViewTransition(()=>{se()}),setTimeout(()=>{l&&l.style.setProperty("view-transition-name","")},W)),A(_,i.showSideLayer,!0)}}),N(()=>{(i.showSideLayer||e.type)&&console.log("updated 122:",i.showSideLayer,e.type,"| open:",i.showSideLayer===e.id)});var T=ye(),C=ie(T);{var U=s=>{var a=fe();let c;var f=o(a),h=o(f),H=o(h,!0);n(h);var k=d(h,2),z=o(k);{var J=t=>{var r=ve();r.__click=function(...b){e.onDelete?.apply(this,b)},m(t,r)};y(z,t=>{e.onDelete&&t(J)})}var O=d(z,2);{var K=t=>{var r=ce();r.__click=function(...p){e.onSave?.apply(this,p)};var b=o(r),I=d(b,2),Z=o(I,!0);n(I),n(r),L(()=>{w(b,1,e.saveButtonIcon||"icon-floppy","svelte-n6zgrd"),G(Z,e.saveButtonName||"Guardar")}),m(t,r)};y(O,t=>{e.onSave&&t(K)})}var Q=d(O,2);Q.__click=t=>{t.stopPropagation(),R(),e.onClose&&(i.deviceType===3?setTimeout(()=>{e.onClose()},300):e.onClose())},n(k),n(f);var D=d(f,2);{var X=t=>{le(t,{get options(){return e.options},get selected(){return x()},useMobileGrid:!0,onSelect:r=>{x(r[0])},css:"mt-2"})};y(D,t=>{(e.options||[]).length>0&&t(X)})}var g=d(D,2),Y=o(g);P(Y,()=>e.children),n(g),n(a),ne(a,t=>l=t,()=>l),L(()=>{c=w(a,1,`flex flex-col w-800 ${(e.css||"")??""}`,"svelte-n6zgrd",c,{_8:e.contentOverflow,_1:e.type==="side",_2:e.type==="bottom"}),re(a,"data-layer-id",e.id),B(a,v(S)?`width: ${v(S)};`:""),w(h,1,`overflow-hidden text-nowrap mr-8 ${e.titleCss??""}`,"svelte-n6zgrd"),G(H,e.title),w(g,1,`_4 grow-1 ${e.contentCss??""}`,"svelte-n6zgrd")}),m(s,a)};y(C,s=>{i.showSideLayer===e.id&&(e.type==="side"||e.type==="bottom")&&s(U)})}var q=d(C,2);{var F=s=>{var a=me();let c;var f=o(a);P(f,()=>e.children),n(a),L(()=>c=B(a,"",c,{width:v(j)})),m(s,a)};y(q,s=>{e.type=="content"&&s(F)})}m(V,T),ae()}oe(["click"]);export{ze as L};
