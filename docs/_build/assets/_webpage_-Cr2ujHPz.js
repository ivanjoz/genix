import{u as Y,c as Z,i as I,j as F,p as ee,k as te,P as ne,_ as se,s as ae,l as L,I as W}from"./app-CxTCLAtU.js";import{a as C,k as ce,c as u,d as re,j as f,g,i as p,F as D,b as v,e as S,r as A,s as oe,t as m,f as b}from"./web-n9SrCLWm.js";const E="_webpage_dev_card_1k9d5_1",O="_cms_editable_card_selected_1k9d5_5",j="_cms_editable_card_1k9d5_5",V="_cms_card_buttons_1k9d5_15",M="_cms_card_button_1k9d5_15",B="_cs1_1k9d5_27",z="_seccion_card_1k9d5_36",ie={webpage_dev_card:E,cms_editable_card_selected:O,cms_editable_card:j,cms_card_buttons:V,cms_card_button:M,cs1:B,seccion_card:z},le=Object.freeze(Object.defineProperty({__proto__:null,cms_card_button:M,cms_card_buttons:V,cms_editable_card:j,cms_editable_card_selected:O,cs1:B,default:ie,seccion_card:z,webpage_dev_card:E},Symbol.toStringTag,{value:"Module"}));var _e=m('<div class="h100 p-rel cms-1">'),de=m("<div><!$><!/><!$><!/>"),pe=m("<div>Seleccione una sección para editar su contenido."),ge=m("<div>--"),U=m("<div>"),ue=m("<div><!$><!/><!$><!/><!$><!/>"),me=m('<div><div><i class="icon-plus h6"></i>Sección</div><div><!$><!/><!$><!/>'),$e=m("<i class=icon-up-1>"),fe=m("<i class=icon-down-1>");const[ye,he]=C({});function Pe(){const o=Y(),[i,c]=C(ee),[r,$]=C(),[N,y]=C([]),R=Z(F,"type"),T=I();ce(()=>{se(()=>Promise.resolve().then(()=>le),void 0),ae(!1),console.log("params::",T.webpage),console.log("location:: ",o.pathname)});const h=(e,t)=>{const n=[],l={type:1,content:"demo",title:"demo"},a=i();console.log("args sections::",e,t);debugger;for(let _=0;_<a.length;_++)t===1&&e===_&&n.push(l),n.push(a[_]),t===2&&e===_&&n.push(l);console.log("nuevas seccciones::",n),c(n)},P=(e,t)=>{let n=!1;if((e===i().length-1&&t===2||e===0&&t===1)&&(n=!0),n)return;const l=i()[e],a=i().filter(_=>_!==l);t===1?e--:t===2&&e++,a.splice(e,0,l),c(a)},s=e=>{const t=[];for(const n of i())n.id===e.id?t.push(e):t.push(n);$(e),c(t)};return u(ne,{title:"Webpage",class:"",views:[[1,"Constructor"],[2,"Secciones"]],pageStyle:{display:"grid","grid-template-columns":"1.1fr 4fr",padding:"0","background-color":"white"},get children(){return[f(()=>f(()=>L()===1)()&&(()=>{var e=g(de),t=e.firstChild,[n,l]=v(t.nextSibling),a=n.nextSibling,[_,x]=v(a.nextSibling);return p(e,(()=>{var d=f(()=>!r());return()=>d()&&g(pe)})(),n,l),p(e,u(D,{get each(){return N()},children:d=>{console.log("section params::",d);const k=()=>{const w={...r()};s(w)};return d.type===1?u(W,{css:"mb-10",inputCss:"s5",get label(){return d.name},get save(){return d.key},get saveOn(){return r()},onChange:()=>{k()}}):d.type===2?u(W,{css:"mb-10",inputCss:"s5",get label(){return d.name},get save(){return d.key},get saveOn(){return r()},useTextArea:!0,onChange:()=>{k()}}):g(ge)}}),_,x),S(()=>b(e,`h100 px-08 py-08 p-rel flex-column ${E}`)),e})()),f(()=>f(()=>L()===2)()&&(()=>{var e=g(U);return p(e,()=>F.map(t=>{const n=f(()=>r()?.type===t.type);return u(ve,{params:t,get isSelected(){return n()},onSelect:()=>{if(r()){const l={...r()};l.type=t.type,s(l)}}})})),S(()=>b(e,`h100 px-08 py-08 p-rel flex-column ${E}`)),e})()),(()=>{var e=g(_e);return e.style.setProperty("overflow","auto"),e.style.setProperty("max-height","calc(100vh - var(--header-height))"),e.style.setProperty("padding","2px"),e.style.setProperty("z-index","999"),e.style.setProperty("margin-left","-2px"),p(e,u(D,{get each(){return i()},children:(t,n)=>{const l=()=>{let a=`p-rel w100 ${j}`;return r()?.id===t.id&&(a+=` ${O}`),a};return t.marginTop&&(t.marginTop=void 0),t.marginBottom&&(t.marginBottom=void 0),(()=>{var a=g(ue),_=a.firstChild,[x,d]=v(_.nextSibling),k=x.nextSibling,[w,q]=v(k.nextSibling),G=w.nextSibling,[J,K]=v(G.nextSibling);return a.$$click=Q=>{Q.stopPropagation(),$(t);const X=R.get(t.type)?.params||[];y(X)},p(a,u(H,{mode:1,onAddSeccion:()=>h(n(),1),onMoveSeccion:()=>P(n(),1)}),x,d),p(a,u(te,{args:t,get type(){return t.type}}),w,q),p(a,u(H,{mode:2,onAddSeccion:()=>h(n(),2),onMoveSeccion:()=>P(n(),2)}),J,K),S(()=>b(a,l())),A(),a})()}})),e})()]}})}const H=o=>{const i={};return o.mode===1&&(i.top="0"),o.mode===2&&(i.bottom="0"),(()=>{var c=g(me),r=c.firstChild,$=r.nextSibling,N=$.firstChild,[y,R]=v(N.nextSibling),T=y.nextSibling,[h,P]=v(T.nextSibling);return oe(c,i),r.$$click=s=>{s.stopPropagation(),o.onAddSeccion()},$.$$click=s=>{s.stopPropagation(),o.onMoveSeccion()},p($,(()=>{var s=f(()=>o.mode===1);return()=>s()&&g($e)})(),y,R),p($,(()=>{var s=f(()=>o.mode===2);return()=>s()&&g(fe)})(),h,P),S(s=>{var e=`flex p-abs ${V}`,t=`flex ai-center p-rel ff-bold mr-06 ${M}`,n=`flex ai-center p-rel ff-bold mr-06 ${M} ${B}`;return e!==s.e&&b(c,s.e=e),t!==s.t&&b(r,s.t=t),n!==s.a&&b($,s.a=n),s},{e:void 0,t:void 0,a:void 0}),A(),c})()},ve=o=>{const i=()=>{let c=`mt-04 mb-04 ${z}`;return o.isSelected&&(c+=" selected"),c};return(()=>{var c=g(U);return c.$$click=r=>{r.stopPropagation(),o.onSelect()},p(c,()=>o.params.name),S(()=>b(c,i())),A(),c})()};re(["click"]);export{Pe as default,ye as pageViews,he as setPageViews};
