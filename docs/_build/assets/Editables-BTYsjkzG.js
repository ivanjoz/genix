import{d as O,t as C,i as y,u as E,b as w,c as b}from"./web-B9EQUxsk.js";import{a as _,e as x,d as P,b as h,c as S}from"./solid-DoXAfIeo.js";var B=C("<div><div>"),L=C('<i class="icon-attention c-red">'),R=C('<div class="flex ai-center cell-ed h100 w100"><input autofocus>'),T=C("<div>"),q=C('<div class="card-c3 flex ai-center mt-03 mb-03 ml-04 mr-04 p-rel overflow-hidden"><div class="nowrap px-06 mt-01">'),z=C("<input class=p-abs autofocus>");function M(e){const[n,f]=_(!1);let i=e.getValue?e.getValue(e.saveOn):(e.saveOn||{})[e.save];const[u,g]=_(i),a=t=>(e.type==="number"&&(t=parseFloat(t||"0")),t),s=t=>{e.saveOn[e.save]=a(t),g(t)};let l;x(()=>{n()&&l&&l.focus()});const c=()=>e.render?e.render(u(),n()):u();return(()=>{var t=B(),o=t.firstChild;return o.$$click=r=>{r.stopPropagation(),i=u(),f(!0)},y(o,c,null),y(o,(()=>{var r=P(()=>!!(!u()&&e.required));return()=>r()&&L()})(),null),y(t,(()=>{var r=P(()=>!!n());return()=>r()&&(()=>{var V=R(),d=V.firstChild;d.addEventListener("blur",v=>{v.stopPropagation();const $=a(v.target.value);i!==$&&(i=$,e.onChange&&e.onChange($)),f(!1)}),d.$$keyup=v=>{v.stopPropagation(),s(v.target.value)};var m=l;return typeof m=="function"?E(m,d):l=d,h(v=>{var $=e.type||"text",k="w100 "+(e.inputClass||"");return $!==v.e&&w(d,"type",v.e=$),k!==v.t&&b(d,v.t=k),v},{e:void 0,t:void 0}),h(()=>d.value=u()||""),V})()})(),null),h(r=>{var V="cell-ed-c flex ai-center p-rel "+(e.class||""),d="h100 w100 "+(e.contentClass||""),m=n()?"hidden":"visible";return V!==r.e&&b(t,r.e=V),d!==r.t&&b(o,r.t=d),m!==r.a&&((r.a=m)!=null?o.style.setProperty("visibility",m):o.style.removeProperty("visibility")),r},{e:void 0,t:void 0,a:void 0}),t})()}function N(e){const n=e.getValue||(a=>a),f=e.setValue||((a,s)=>s),i=(e.saveOn[e.save]||[]).filter(a=>a);i.push(f({},""));const[u,g]=_(i);return(()=>{var a=T();return y(a,()=>u().map((s,l)=>e.skipt&&e.skipt(s)?null:S(A,{get defaultValue(){return n(s)},onBlur:c=>{let t=[...u()];t[l]=f(t[l],c),t=t.filter(o=>n(o)),e.saveOn[e.save]=t,t.push(f({},"")),console.log("nuevos valores:: ",[...t]),g(t)}}))),h(()=>b(a,"flex-wrap ai-center p-rel "+(e.class||""))),a})()}function A(e){const[n,f]=_(e.defaultValue),[i,u]=_(!1);x(()=>{f(e.defaultValue)});let g;return x(()=>{i()&&g&&g.focus()}),(()=>{var a=q(),s=a.firstChild;return a.$$click=l=>{l.stopPropagation(),u(!0),console.log("hizo click()")},y(a,(()=>{var l=P(()=>!!i());return()=>l()&&(()=>{var c=z();c.addEventListener("blur",()=>{e.onBlur(n()),u(!1)}),c.$$keyup=o=>{o.stopPropagation(),f(o.target.value)};var t=g;return typeof t=="function"?E(t,c):g=c,c.style.setProperty("padding-right","0"),h(()=>c.value=n()),c})()})(),s),y(s,n),h(l=>(l=i()?"0.8rem":void 0)!=null?s.style.setProperty("padding-right",l):s.style.removeProperty("padding-right")),a})()}O(["click","keyup"]);export{M as C,N as a};
